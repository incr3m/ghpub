import{j as e}from"./TransitionGroupContext-9d36972e.js";import{R as l}from"./index-f1f749bf.js";import{a1 as F,a2 as k,a3 as B,B as f,T as P,J as V,V as w,a4 as E,Z as J,P as O,a as Q}from"./papaparse.min-b66e70e7.js";import{g as d}from"./_baseForOwn-9b89c4b6.js";function T(h){const{code:t,withHeader:x=!0,module:s,name:i,beFormProps:c={},Container:S=O,children:j}=h,v=l.useCallback(n=>{const o=F(n,["id","code","module","name"]);console.log(">>SettingForm/index::","values",o);const g={value:JSON.stringify(o),id:t,code:t,module:s,name:i};for(const C in o)g[C]=void 0;return g},[t,s,i]),a=k({queryKey:["GetSetting",t],queryFn:async()=>await Q({key:"getSetting",variables:{id:t}})}),u=d(a,"data.value"),m=!d(a,"data.id"),{onSubmit:r}=c,p=a.refetch,y=l.useCallback((...n)=>(m&&p(),Promise.resolve(r&&r(...n))),[m,p,r]),b=l.useCallback(()=>{const n=JSON.parse(u||"{}");return{id:t,...n}},[u,t]);return t?s?a.isFetching?e.jsx(B,{}):e.jsxs(f,{component:S,children:[x&&e.jsxs(e.Fragment,{children:[e.jsx(f,{ml:2,p:1,children:e.jsxs(P,{variant:"h6",children:[i||V(t)," ",e.jsx(w,{size:"small",label:s,variant:"outlined"})]})}),e.jsx(E,{})]}),e.jsx(J,{beforeSave:v,onCancel:()=>{},allowExtraFields:!0,id:d(a,"data.id"),name:"setting",initialValues:b,preload:!1,...c,skipEsChecking:!0,onSubmit:y,children:j})]}):e.jsx("span",{children:"Setting Module is not defined"}):e.jsx("span",{children:"Setting Code is not defined"})}export{T as S};
