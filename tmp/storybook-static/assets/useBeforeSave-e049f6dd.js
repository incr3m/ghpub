import{R as t}from"./index-f1f749bf.js";import{e as i,d as v}from"./papaparse.min-b66e70e7.js";function b(a,n){const e=t.useRef({fnKey:i.v4()});e.current.fn=a;const{formRef:f}=t.useContext(v);t.useEffect(()=>{if(!e.current.fn)return;const o=`${n||""}::${e.current.fnKey}`,r=f.current;return r.beforeSave=r.beforeSave||{},r.beforeSave[o]=async c=>{let u;const s=e.current.fn;return s&&(u=await Promise.resolve(s(c))),u},()=>{delete r.beforeSave[o]}},[f,n])}export{b as u};
