import{j as s}from"./TransitionGroupContext-9d36972e.js";import{r as l,R as h}from"./index-f1f749bf.js";import{bi as f,bj as m,bk as p,bg as v,bl as g,bh as x,bm as y}from"./papaparse.min-b66e70e7.js";import"./_baseForOwn-9b89c4b6.js";import{j as E,G as b,k as C}from"./index-bcfaa842.js";import{r as w}from"./index-96c5f47c.js";var j=function(t){var e=t.client,r=t.children,o=f(),n=l.useContext(o),a=l.useMemo(function(){return m(m({},n),{client:e||n.client})},[n,e]);return p(a.client,46),l.createElement(o.Provider,{value:a},r)};const S=l.createContext(null),u={didCatch:!1,error:null};class O extends l.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=u}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var r,o,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];(r=(o=this.props).onReset)===null||r===void 0||r.call(o,{args:a,reason:"imperative-api"}),this.setState(u)}}componentDidCatch(e,r){var o,n;(o=(n=this.props).onError)===null||o===void 0||o.call(n,e,r)}componentDidUpdate(e,r){const{didCatch:o}=this.state,{resetKeys:n}=this.props;if(o&&r.error!==null&&R(e.resetKeys,n)){var a,i;(a=(i=this.props).onReset)===null||a===void 0||a.call(i,{next:n,prev:e.resetKeys,reason:"keys"}),this.setState(u)}}render(){const{children:e,fallbackRender:r,FallbackComponent:o,fallback:n}=this.props,{didCatch:a,error:i}=this.state;let c=e;if(a){const d={error:i,resetErrorBoundary:this.resetErrorBoundary};if(typeof r=="function")c=r(d);else if(o)c=l.createElement(o,d);else if(n===null||l.isValidElement(n))c=n;else throw i}return l.createElement(S.Provider,{value:{didCatch:a,error:i,resetErrorBoundary:this.resetErrorBoundary}},c)}}function R(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((r,o)=>!Object.is(r,e[o]))}const B=function(){return null};E();const k=()=>{const[t,e]=h.useState(window.location.origin.includes("localhost"));return h.useEffect(()=>{window.reactQueryShowDevtools=r=>e(r)}),t?w.createPortal(s.jsx(B,{initialIsOpen:!1,panelPosition:"bottom",position:"bottom-right"}),document.getElementById("devtools")):s.jsx("span",{})};function D(t){const{error:e}=t;return s.jsxs("div",{role:"alert",children:[s.jsx("p",{children:"Something went wrong:"}),s.jsxs("h5",{children:["View full error detail in console with prefix: ",s.jsx("strong",{children:"STORYBOOK_ERROR"})]}),s.jsx("pre",{style:{color:"red"},children:e.message})]})}const F=(t,e)=>{console.error("STORYBOOK_ERROR: ",t,e)},P=t=>{const e={queryClient:new v({defaultOptions:{mutations:{networkMode:"offlineFirst"},queries:{networkMode:"offlineFirst",retryOnMount:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1}}}),apolloClient:g({},{})};function r(){return s.jsx(b,{growthbook:C,children:s.jsx(j,{client:e.apolloClient,children:s.jsxs(x,{client:e.queryClient,children:[s.jsx(O,{fallbackRender:D,onError:F,children:s.jsx(y,{context:{updateGlobalState:()=>{},logOut(){},globalState:{authUser:{id:"test-user"},authenticated:!0,setSidebarMenuOpen:()=>{}}},children:s.jsx(t,{})})}),s.jsx(k,{})]})})})}return{RenderComponent:r,storyClients:e}},U=t=>P(t).RenderComponent;export{P as c,U as r};
