import{g as Fn,a as kn,s as ze,u as An,_ as kt,j as l,c as Ye,b as Gn}from"./TransitionGroupContext-9d36972e.js";import{r as L,R as mt}from"./index-f1f749bf.js";import{c as bo}from"./_commonjsHelpers-042e6b4d.js";import{n as Tt}from"./_arrayIncludes-2cfb33ae.js";import{i as Le,cW as yo,cX as xo,S as wo,M as Ro,aX as Bn,cY as So,c3 as Co,u as Mn,ca as Po,bE as Bo,B as q,r as jo,ax as Io,as as Eo,au as Dn,av as Hn,aq as Ge,T as Ze,aw as nt,g as yt,bo as zn,X as At,l as To,aj as Fo,ck as ko,cZ as Ao,z as ft,D as Go}from"./papaparse.min-b66e70e7.js";import{S as Mo,a as Do,d as Ho,E as zo}from"./SortUpIcon-3aecf5f0.js";import{c as et,b as gt,a as Wo,d as Oo}from"./TableRow-00aadd87.js";import{a as fe}from"./assertThisInitialized-ad1db8e7.js";import{K as Lo,b as _o}from"./filter-f99df4e5.js";import{q as No,w as tt,b as xt,f as qo,u as $o}from"./index-bcfaa842.js";import{af as Xo,ag as Uo,l as Ko,i as Vo,ah as Jo,ai as Yo,aj as Qo,ak as Zo,al as es,b as jn,x as ts,am as ns,Y as Wn,p as On,an as Ln,a2 as Ue,$ as rs,a0 as os,Z as vt,_ as ht,ao as ss,y as is,ap as as,a3 as Se,a4 as Ce,a5 as Ft,o as ls}from"./Play-87fed129.js";import{T as us}from"./TableHead-dd1583ce.js";import"./_baseForOwn-9b89c4b6.js";import"./index-96c5f47c.js";import{a as cs}from"./Save-b67fa0ac.js";import{B as Ke}from"./Button-352c3435.js";import{P as _n,u as ds}from"./ProjectLink-987015ba.js";import{M as ps}from"./MenuOptions-0bc3bb51.js";import{P as fs}from"./index-79afbab1.js";import{K as gs}from"./pick-dba65392.js";function ms(d){return Fn("MuiTableContainer",d)}kn("MuiTableContainer",["root"]);const vs=["className","component"],hs=d=>{const{classes:v}=d;return Gn({root:["root"]},ms,v)},bs=ze("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(d,v)=>v.root})({width:"100%",overflowX:"auto"}),ys=L.forwardRef(function(v,a){const p=An({props:v,name:"MuiTableContainer"}),{className:P,component:k="div"}=p,c=kt(p,vs),R=fe({},p,{component:k}),_=hs(R);return l.jsx(bs,fe({ref:a,as:k,className:Ye(_.root,P),ownerState:R},c))}),xs=ys,ws=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],Rs=L.forwardRef(function(v,a){var p,P,k,c,R,_,u,X;const{backIconButtonProps:ue,count:ie,disabled:be=!1,getItemAriaLabel:A,nextIconButtonProps:ae,onPageChange:ge,page:Q,rowsPerPage:ce,showFirstButton:N,showLastButton:Ee,slots:Z={},slotProps:te={}}=v,Te=kt(v,ws),re=No(),ye=ke=>{ge(ke,0)},xe=ke=>{ge(ke,Q-1)},de=ke=>{ge(ke,Q+1)},b=ke=>{ge(ke,Math.max(0,Math.ceil(ie/ce)-1))},U=(p=Z.firstButton)!=null?p:Le,ne=(P=Z.lastButton)!=null?P:Le,we=(k=Z.nextButton)!=null?k:Le,Fe=(c=Z.previousButton)!=null?c:Le,Pe=(R=Z.firstButtonIcon)!=null?R:yo,oe=(_=Z.lastButtonIcon)!=null?_:xo,J=(u=Z.nextButtonIcon)!=null?u:Lo,le=(X=Z.previousButtonIcon)!=null?X:_o,Be=re.direction==="rtl"?ne:U,_e=re.direction==="rtl"?we:Fe,Ne=re.direction==="rtl"?Fe:we,qe=re.direction==="rtl"?U:ne,$e=re.direction==="rtl"?te.lastButton:te.firstButton,We=re.direction==="rtl"?te.nextButton:te.previousButton,Oe=re.direction==="rtl"?te.previousButton:te.nextButton,Xe=re.direction==="rtl"?te.firstButton:te.lastButton;return l.jsxs("div",fe({ref:a},Te,{children:[N&&l.jsx(Be,fe({onClick:ye,disabled:be||Q===0,"aria-label":A("first",Q),title:A("first",Q)},$e,{children:re.direction==="rtl"?l.jsx(oe,fe({},te.lastButtonIcon)):l.jsx(Pe,fe({},te.firstButtonIcon))})),l.jsx(_e,fe({onClick:xe,disabled:be||Q===0,color:"inherit","aria-label":A("previous",Q),title:A("previous",Q)},We??ue,{children:re.direction==="rtl"?l.jsx(J,fe({},te.nextButtonIcon)):l.jsx(le,fe({},te.previousButtonIcon))})),l.jsx(Ne,fe({onClick:de,disabled:be||(ie!==-1?Q>=Math.ceil(ie/ce)-1:!1),color:"inherit","aria-label":A("next",Q),title:A("next",Q)},Oe??ae,{children:re.direction==="rtl"?l.jsx(le,fe({},te.previousButtonIcon)):l.jsx(J,fe({},te.nextButtonIcon))})),Ee&&l.jsx(qe,fe({onClick:b,disabled:be||Q>=Math.ceil(ie/ce)-1,"aria-label":A("last",Q),title:A("last",Q)},Xe,{children:re.direction==="rtl"?l.jsx(Pe,fe({},te.firstButtonIcon)):l.jsx(oe,fe({},te.lastButtonIcon))}))]}))}),Ss=Rs;function Cs(d){return Fn("MuiTablePagination",d)}const Ps=kn("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),Qe=Ps;var In;const Bs=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"],js=ze(et,{name:"MuiTablePagination",slot:"Root",overridesResolver:(d,v)=>v.root})(({theme:d})=>({overflow:"auto",color:(d.vars||d).palette.text.primary,fontSize:d.typography.pxToRem(14),"&:last-child":{padding:0}})),Is=ze(Xo,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(d,v)=>fe({[`& .${Qe.actions}`]:v.actions},v.toolbar)})(({theme:d})=>({minHeight:52,paddingRight:2,[`${d.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[d.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${Qe.actions}`]:{flexShrink:0,marginLeft:20}})),Es=ze("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(d,v)=>v.spacer})({flex:"1 1 100%"}),Ts=ze("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(d,v)=>v.selectLabel})(({theme:d})=>fe({},d.typography.body2,{flexShrink:0})),Fs=ze(wo,{name:"MuiTablePagination",slot:"Select",overridesResolver:(d,v)=>fe({[`& .${Qe.selectIcon}`]:v.selectIcon,[`& .${Qe.select}`]:v.select},v.input,v.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${Qe.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),ks=ze(Ro,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(d,v)=>v.menuItem})({}),As=ze("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(d,v)=>v.displayedRows})(({theme:d})=>fe({},d.typography.body2,{flexShrink:0}));function Gs({from:d,to:v,count:a}){return`${d}–${v} of ${a!==-1?a:`more than ${v}`}`}function Ms(d){return`Go to ${d} page`}const Ds=d=>{const{classes:v}=d;return Gn({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},Cs,v)},Hs=L.forwardRef(function(v,a){var p;const P=An({props:v,name:"MuiTablePagination"}),{ActionsComponent:k=Ss,backIconButtonProps:c,className:R,colSpan:_,component:u=et,count:X,disabled:ue=!1,getItemAriaLabel:ie=Ms,labelDisplayedRows:be=Gs,labelRowsPerPage:A="Rows per page:",nextIconButtonProps:ae,onPageChange:ge,onRowsPerPageChange:Q,page:ce,rowsPerPage:N,rowsPerPageOptions:Ee=[10,25,50,100],SelectProps:Z={},showFirstButton:te=!1,showLastButton:Te=!1,slotProps:re={},slots:ye={}}=P,xe=kt(P,Bs),de=P,b=Ds(de),U=(p=re==null?void 0:re.select)!=null?p:Z,ne=U.native?"option":ks;let we;(u===et||u==="td")&&(we=_||1e3);const Fe=Bn(U.id),Pe=Bn(U.labelId),oe=()=>X===-1?(ce+1)*N:N===-1?X:Math.min(X,(ce+1)*N);return l.jsx(js,fe({colSpan:we,ref:a,as:u,ownerState:de,className:Ye(b.root,R)},xe,{children:l.jsxs(Is,{className:b.toolbar,children:[l.jsx(Es,{className:b.spacer}),Ee.length>1&&l.jsx(Ts,{className:b.selectLabel,id:Pe,children:A}),Ee.length>1&&l.jsx(Fs,fe({variant:"standard"},!U.variant&&{input:In||(In=l.jsx(So,{}))},{value:N,onChange:Q,id:Fe,labelId:Pe},U,{classes:fe({},U.classes,{root:Ye(b.input,b.selectRoot,(U.classes||{}).root),select:Ye(b.select,(U.classes||{}).select),icon:Ye(b.selectIcon,(U.classes||{}).icon)}),disabled:ue,children:Ee.map(J=>L.createElement(ne,fe({},!Co(ne)&&{ownerState:de},{className:b.menuItem,key:J.label?J.label:J,value:J.value?J.value:J}),J.label?J.label:J))})),l.jsx(As,{className:b.displayedRows,children:be({from:X===0?0:ce*N+1,to:oe(),count:X===-1?-1:X,page:ce})}),l.jsx(k,{className:b.actions,backIconButtonProps:c,count:X,nextIconButtonProps:ae,onPageChange:ge,page:ce,rowsPerPage:N,showFirstButton:te,showLastButton:Te,slotProps:re.actions,slots:ye.actions,getItemAriaLabel:ie,disabled:ue})]})}))}),En=Hs;function zs(d,v){v===void 0&&(v=0);var a=L.useRef(!1),p=L.useRef(),P=L.useRef(d),k=L.useCallback(function(){return a.current},[]),c=L.useCallback(function(){a.current=!1,p.current&&clearTimeout(p.current),p.current=setTimeout(function(){a.current=!0,P.current()},v)},[v]),R=L.useCallback(function(){a.current=null,p.current&&clearTimeout(p.current)},[]);return L.useEffect(function(){P.current=d},[d]),L.useEffect(function(){return c(),R},[v]),[k,R,c]}function Ws(d,v,a){v===void 0&&(v=0),a===void 0&&(a=[]);var p=zs(d,v),P=p[0],k=p[1],c=p[2];return L.useEffect(c,a),[P,k]}const Os=d=>{const v=Mn(Po,d);return[L.useMemo(()=>{var P,k;return(k=(P=v.data)==null?void 0:P.result)==null?void 0:k.items},[v.data]),v]},Ls=()=>{const[d,v]=Os({variables:{code:{beginsWith:Bo},module:"expense"}}),[a,p]=L.useState(null);L.useEffect(()=>{v!=null&&v.loading||p(()=>Object.fromEntries((d==null?void 0:d.map(c=>[c==null?void 0:c.id,c]))??[]))},[d,v==null?void 0:v.loading]);const P=L.useCallback((c,R)=>{p(_=>{const u=_[c];return{..._,[c]:R==null?void 0:R(u)}})},[]);return[L.useMemo(()=>Object.values(a??{})??[],[a]),{map:a,setMap:p,setMapById:P},v]},Nn=d=>{const[v]=Ls();return l.jsx(Uo,{...d,options:v==null?void 0:v.map(a=>{var p;return{label:(p=a==null?void 0:a.value)==null?void 0:p.name,value:a==null?void 0:a.id}})})},_s=({content:d,id:v="",contentProps:a={},children:p})=>{const P=Ko();return l.jsxs(q,{children:[l.jsx(q,{sx:{cursor:"pointer"},"aria-describedby":P.id,onClick:P.toggle,onMouseOver:P.toggle,children:p}),l.jsx(jo,{id:P.id,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},anchorEl:P.anchorEl,open:P.active,onClose:P.onClose,onMouseLeave:P.onClose,offset:3,children:l.jsx(q,{pb:2,pt:2,...a,sx:[{width:"100%",textAlign:"left"},...a.sx||[]],children:d})})]})};var De={},Ns={get exports(){return De},set exports(d){De=d}},bt={},qs={get exports(){return bt},set exports(d){bt=d}};(function(d,v){(function(a,p){p(v,L)})(bo,function(a,p){function P(e,t,n,r,s,o,i){try{var f=e[o](i),g=f.value}catch(m){return void n(m)}f.done?t(g):Promise.resolve(g).then(r,s)}function k(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function i(g){P(o,r,s,i,f,"next",g)}function f(g){P(o,r,s,i,f,"throw",g)}i(void 0)})}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){if(e==null)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}function _(e){var t=function(n,r){if(typeof n!="object"||n===null)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,r||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return typeof t=="symbol"?t:String(t)}p=p&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p;var u={init:"init"},X=function(e){var t=e.value;return t===void 0?"":t},ue=function(){return p.createElement(p.Fragment,null," ")},ie={Cell:X,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function be(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(r,s){var o=s.style,i=s.className;return r=c({},r,{},R(s,["style","className"])),o&&(r.style=r.style?c({},r.style||{},{},o||{}):o),i&&(r.className=r.className?r.className+" "+i:i),r.className===""&&delete r.className,r},{})}var A=function(e,t){return t===void 0&&(t={}),function(n){return n===void 0&&(n={}),[].concat(e,[n]).reduce(function(r,s){return function o(i,f,g){return typeof f=="function"?o({},f(i,g)):Array.isArray(f)?be.apply(void 0,[i].concat(f)):be(i,f)}(r,s,c({},t,{userProps:n}))},{})}},ae=function(e,t,n,r){return n===void 0&&(n={}),e.reduce(function(s,o){return o(s,n)},t)},ge=function(e,t,n){return n===void 0&&(n={}),e.forEach(function(r){r(t,n)})};function Q(e,t,n,r){e.findIndex(function(s){return s.pluginName===n}),t.forEach(function(s){e.findIndex(function(o){return o.pluginName===s})})}function ce(e,t){return typeof e=="function"?e(t):e}function N(e){var t=p.useRef();return t.current=e,p.useCallback(function(){return t.current},[])}var Ee=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Z(e,t){var n=p.useRef(!1);Ee(function(){n.current&&e(),n.current=!0},t)}function te(e,t,n){return n===void 0&&(n={}),function(r,s){s===void 0&&(s={});var o=typeof r=="string"?t[r]:r;if(o===void 0)throw console.info(t),new Error("Renderer Error ☝️");return Te(o,c({},e,{column:t},n,{},s))}}function Te(e,t){return function(r){return typeof r=="function"&&(s=Object.getPrototypeOf(r)).prototype&&s.prototype.isReactComponent;var s}(n=e)||typeof n=="function"||function(r){return typeof r=="object"&&typeof r.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(r.$$typeof.description)}(n)?p.createElement(e,t):e;var n}function re(e,t,n){return n===void 0&&(n=0),e.map(function(r){return xe(r=c({},r,{parent:t,depth:n})),r.columns&&(r.columns=re(r.columns,r,n+1)),r})}function ye(e){return Fe(e,"columns")}function xe(e){var t=e.id,n=e.accessor,r=e.Header;if(typeof n=="string"){t=t||n;var s=n.split(".");n=function(o){return function(i,f,g){if(!f)return i;var m,S=typeof f=="function"?f:JSON.stringify(f),y=U.get(S)||function(){var x=function(h){return function w(B,j){if(j===void 0&&(j=[]),Array.isArray(B))for(var T=0;T<B.length;T+=1)w(B[T],j);else j.push(B);return j}(h).map(function(w){return String(w).replace(".","_")}).join(".").replace(_e,".").replace(Ne,"").split(".")}(f);return U.set(S,x),x}();try{m=y.reduce(function(x,h){return x[h]},i)}catch{}return m!==void 0?m:g}(o,s)}}if(!t&&typeof r=="string"&&r&&(t=r),!t&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!t)throw console.error(e),new Error("A column ID (or string accessor) is required!");return Object.assign(e,{id:t,accessor:n}),e}function de(e,t){if(!t)throw new Error;return Object.assign(e,c({Header:ue,Footer:ue},ie,{},t,{},e)),Object.assign(e,{originalWidth:e.width}),e}function b(e,t,n){n===void 0&&(n=function(){return{}});for(var r=[],s=e,o=0,i=function(){return o++},f=function(){var g={headers:[]},m=[],S=s.some(function(y){return y.parent});s.forEach(function(y){var x,h=[].concat(m).reverse()[0];S&&(y.parent?x=c({},y.parent,{originalId:y.parent.id,id:y.parent.id+"_"+i(),headers:[y]},n(y)):x=de(c({originalId:y.id+"_placeholder",id:y.id+"_placeholder_"+i(),placeholderOf:y,headers:[y]},n(y)),t),h&&h.originalId===x.originalId?h.headers.push(y):m.push(x)),g.headers.push(y)}),r.push(g),s=m};s.length;)f();return r.reverse()}var U=new Map;function ne(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r+=1)if(t[r]!==void 0)return t[r]}function we(e){if(typeof e=="function")return e}function Fe(e,t){var n=[];return function r(s){s.forEach(function(o){o[t]?r(o[t]):n.push(o)})}(e),n}function Pe(e,t){var n=t.manualExpandedKey,r=t.expanded,s=t.expandSubRows,o=s===void 0||s,i=[];return e.forEach(function(f){return function g(m,S){S===void 0&&(S=!0),m.isExpanded=m.original&&m.original[n]||r[m.id],m.canExpand=m.subRows&&!!m.subRows.length,S&&i.push(m),m.subRows&&m.subRows.length&&m.isExpanded&&m.subRows.forEach(function(y){return g(y,o)})}(f)}),i}function oe(e,t,n){return we(e)||t[e]||n[e]||n.text}function J(e,t,n){return e?e(t,n):t===void 0}function le(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var Be=null,_e=/\[/g,Ne=/\]/g,qe=function(e){return c({role:"table"},e)},$e=function(e){return c({role:"rowgroup"},e)},We=function(e,t){var n=t.column;return c({key:"header_"+n.id,colSpan:n.totalVisibleHeaderCount,role:"columnheader"},e)},Oe=function(e,t){var n=t.column;return c({key:"footer_"+n.id,colSpan:n.totalVisibleHeaderCount},e)},Xe=function(e,t){return c({key:"headerGroup_"+t.index,role:"row"},e)},ke=function(e,t){return c({key:"footerGroup_"+t.index},e)},rt=function(e,t){return c({key:"row_"+t.row.id,role:"row"},e)},ot=function(e,t){var n=t.cell;return c({key:"cell_"+n.row.id+"_"+n.column.id,role:"cell"},e)};function st(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[qe],getTableBodyProps:[$e],getHeaderGroupProps:[Xe],getFooterGroupProps:[ke],getHeaderProps:[We],getFooterProps:[Oe],getRowProps:[rt],getCellProps:[ot],useFinalInstance:[]}}u.resetHiddenColumns="resetHiddenColumns",u.toggleHideColumn="toggleHideColumn",u.setHiddenColumns="setHiddenColumns",u.toggleHideAllColumns="toggleHideAllColumns";var it=function(e){e.getToggleHiddenProps=[Kn],e.getToggleHideAllColumnsProps=[Vn],e.stateReducers.push(Jn),e.useInstanceBeforeDimensions.push(Yn),e.headerGroupsDeps.push(function(t,n){var r=n.instance;return[].concat(t,[r.state.hiddenColumns])}),e.useInstance.push(Qn)};it.pluginName="useColumnVisibility";var Kn=function(e,t){var n=t.column;return[e,{onChange:function(r){n.toggleHidden(!r.target.checked)},style:{cursor:"pointer"},checked:n.isVisible,title:"Toggle Column Visible"}]},Vn=function(e,t){var n=t.instance;return[e,{onChange:function(r){n.toggleHideAllColumns(!r.target.checked)},style:{cursor:"pointer"},checked:!n.allColumnsHidden&&!n.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!n.allColumnsHidden&&n.state.hiddenColumns.length}]};function Jn(e,t,n,r){if(t.type===u.init)return c({hiddenColumns:[]},e);if(t.type===u.resetHiddenColumns)return c({},e,{hiddenColumns:r.initialState.hiddenColumns||[]});if(t.type===u.toggleHideColumn){var s=(t.value!==void 0?t.value:!e.hiddenColumns.includes(t.columnId))?[].concat(e.hiddenColumns,[t.columnId]):e.hiddenColumns.filter(function(o){return o!==t.columnId});return c({},e,{hiddenColumns:s})}return t.type===u.setHiddenColumns?c({},e,{hiddenColumns:ce(t.value,e.hiddenColumns)}):t.type===u.toggleHideAllColumns?c({},e,{hiddenColumns:(t.value!==void 0?t.value:!e.hiddenColumns.length)?r.allColumns.map(function(o){return o.id}):[]}):void 0}function Yn(e){var t=e.headers,n=e.state.hiddenColumns;p.useRef(!1).current;var r=0;t.forEach(function(s){return r+=function o(i,f){i.isVisible=f&&!n.includes(i.id);var g=0;return i.headers&&i.headers.length?i.headers.forEach(function(m){return g+=o(m,i.isVisible)}):g=i.isVisible?1:0,i.totalVisibleHeaderCount=g,g}(s,!0)})}function Qn(e){var t=e.columns,n=e.flatHeaders,r=e.dispatch,s=e.allColumns,o=e.getHooks,i=e.state.hiddenColumns,f=e.autoResetHiddenColumns,g=f===void 0||f,m=N(e),S=s.length===i.length,y=p.useCallback(function(j,T){return r({type:u.toggleHideColumn,columnId:j,value:T})},[r]),x=p.useCallback(function(j){return r({type:u.setHiddenColumns,value:j})},[r]),h=p.useCallback(function(j){return r({type:u.toggleHideAllColumns,value:j})},[r]),w=A(o().getToggleHideAllColumnsProps,{instance:m()});n.forEach(function(j){j.toggleHidden=function(T){r({type:u.toggleHideColumn,columnId:j.id,value:T})},j.getToggleHiddenProps=A(o().getToggleHiddenProps,{instance:m(),column:j})});var B=N(g);Z(function(){B()&&r({type:u.resetHiddenColumns})},[r,t]),Object.assign(e,{allColumnsHidden:S,toggleHideColumn:y,setHiddenColumns:x,toggleHideAllColumns:h,getToggleHideAllColumnsProps:w})}var Zn={},er={},tr=function(e,t,n){return e},nr=function(e,t){return e.subRows||[]},rr=function(e,t,n){return""+(n?[n.id,t].join("."):t)},or=function(e){return e};function Ht(e){var t=e.initialState,n=t===void 0?Zn:t,r=e.defaultColumn,s=r===void 0?er:r,o=e.getSubRows,i=o===void 0?nr:o,f=e.getRowId,g=f===void 0?rr:f,m=e.stateReducer,S=m===void 0?tr:m,y=e.useControlledState,x=y===void 0?or:y;return c({},R(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:n,defaultColumn:s,getSubRows:i,getRowId:g,stateReducer:S,useControlledState:x})}function zt(e,t){t===void 0&&(t=0);var n=0,r=0,s=0,o=0;return e.forEach(function(i){var f=i.headers;if(i.totalLeft=t,f&&f.length){var g=zt(f,t),m=g[0],S=g[1],y=g[2],x=g[3];i.totalMinWidth=m,i.totalWidth=S,i.totalMaxWidth=y,i.totalFlexWidth=x}else i.totalMinWidth=i.minWidth,i.totalWidth=Math.min(Math.max(i.minWidth,i.width),i.maxWidth),i.totalMaxWidth=i.maxWidth,i.totalFlexWidth=i.canResize?i.totalWidth:0;i.isVisible&&(t+=i.totalWidth,n+=i.totalMinWidth,r+=i.totalWidth,s+=i.totalMaxWidth,o+=i.totalFlexWidth)}),[n,r,s,o]}function sr(e){var t=e.data,n=e.rows,r=e.flatRows,s=e.rowsById,o=e.column,i=e.getRowId,f=e.getSubRows,g=e.accessValueHooks,m=e.getInstance;t.forEach(function(S,y){return function x(h,w,B,j,T){B===void 0&&(B=0);var O=h,E=i(h,w,j),C=s[E];if(C)C.subRows&&C.originalSubRows.forEach(function(I,H){return x(I,H,B+1,C)});else if((C={id:E,original:O,index:w,depth:B,cells:[{}]}).cells.map=le,C.cells.filter=le,C.cells.forEach=le,C.cells[0].getCellProps=le,C.values={},T.push(C),r.push(C),s[E]=C,C.originalSubRows=f(h,w),C.originalSubRows){var W=[];C.originalSubRows.forEach(function(I,H){return x(I,H,B+1,C,W)}),C.subRows=W}o.accessor&&(C.values[o.id]=o.accessor(h,w,C,T,t)),C.values[o.id]=ae(g,C.values[o.id],{row:C,column:o,instance:m()})}(S,y,0,void 0,n)})}u.resetExpanded="resetExpanded",u.toggleRowExpanded="toggleRowExpanded",u.toggleAllRowsExpanded="toggleAllRowsExpanded";var Wt=function(e){e.getToggleAllRowsExpandedProps=[ir],e.getToggleRowExpandedProps=[ar],e.stateReducers.push(lr),e.useInstance.push(ur),e.prepareRow.push(cr)};Wt.pluginName="useExpanded";var ir=function(e,t){var n=t.instance;return[e,{onClick:function(r){n.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},ar=function(e,t){var n=t.row;return[e,{onClick:function(){n.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function lr(e,t,n,r){if(t.type===u.init)return c({expanded:{}},e);if(t.type===u.resetExpanded)return c({},e,{expanded:r.initialState.expanded||{}});if(t.type===u.toggleAllRowsExpanded){var s=t.value,o=r.rowsById,i=Object.keys(o).length===Object.keys(e.expanded).length;if(s!==void 0?s:!i){var f={};return Object.keys(o).forEach(function(w){f[w]=!0}),c({},e,{expanded:f})}return c({},e,{expanded:{}})}if(t.type===u.toggleRowExpanded){var g,m=t.id,S=t.value,y=e.expanded[m],x=S!==void 0?S:!y;if(!y&&x)return c({},e,{expanded:c({},e.expanded,(g={},g[m]=!0,g))});if(y&&!x){var h=e.expanded;return h[m],c({},e,{expanded:R(h,[m].map(_))})}return e}}function ur(e){var t=e.data,n=e.rows,r=e.rowsById,s=e.manualExpandedKey,o=s===void 0?"expanded":s,i=e.paginateExpandedRows,f=i===void 0||i,g=e.expandSubRows,m=g===void 0||g,S=e.autoResetExpanded,y=S===void 0||S,x=e.getHooks,h=e.plugins,w=e.state.expanded,B=e.dispatch;Q(h,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var j=N(y),T=!!(Object.keys(r).length&&Object.keys(w).length);T&&Object.keys(r).some(function($){return!w[$]})&&(T=!1),Z(function(){j()&&B({type:u.resetExpanded})},[B,t]);var O=p.useCallback(function($,G){B({type:u.toggleRowExpanded,id:$,value:G})},[B]),E=p.useCallback(function($){return B({type:u.toggleAllRowsExpanded,value:$})},[B]),C=p.useMemo(function(){return f?Pe(n,{manualExpandedKey:o,expanded:w,expandSubRows:m}):n},[f,n,o,w,m]),W=p.useMemo(function(){return function($){var G=0;return Object.keys($).forEach(function(D){var ee=D.split(".");G=Math.max(G,ee.length)}),G}(w)},[w]),I=N(e),H=A(x().getToggleAllRowsExpandedProps,{instance:I()});Object.assign(e,{preExpandedRows:n,expandedRows:C,rows:C,expandedDepth:W,isAllRowsExpanded:T,toggleRowExpanded:O,toggleAllRowsExpanded:E,getToggleAllRowsExpandedProps:H})}function cr(e,t){var n=t.instance.getHooks,r=t.instance;e.toggleRowExpanded=function(s){return r.toggleRowExpanded(e.id,s)},e.getToggleRowExpandedProps=A(n().getToggleRowExpandedProps,{instance:r,row:e})}var Ot=function(e,t,n){return e=e.filter(function(r){return t.some(function(s){var o=r.values[s];return String(o).toLowerCase().includes(String(n).toLowerCase())})})};Ot.autoRemove=function(e){return!e};var Lt=function(e,t,n){return e.filter(function(r){return t.some(function(s){var o=r.values[s];return o===void 0||String(o).toLowerCase()===String(n).toLowerCase()})})};Lt.autoRemove=function(e){return!e};var _t=function(e,t,n){return e.filter(function(r){return t.some(function(s){var o=r.values[s];return o===void 0||String(o)===String(n)})})};_t.autoRemove=function(e){return!e};var Nt=function(e,t,n){return e.filter(function(r){return t.some(function(s){return r.values[s].includes(n)})})};Nt.autoRemove=function(e){return!e||!e.length};var qt=function(e,t,n){return e.filter(function(r){return t.some(function(s){var o=r.values[s];return o&&o.length&&n.every(function(i){return o.includes(i)})})})};qt.autoRemove=function(e){return!e||!e.length};var $t=function(e,t,n){return e.filter(function(r){return t.some(function(s){var o=r.values[s];return o&&o.length&&n.some(function(i){return o.includes(i)})})})};$t.autoRemove=function(e){return!e||!e.length};var Xt=function(e,t,n){return e.filter(function(r){return t.some(function(s){var o=r.values[s];return n.includes(o)})})};Xt.autoRemove=function(e){return!e||!e.length};var Ut=function(e,t,n){return e.filter(function(r){return t.some(function(s){return r.values[s]===n})})};Ut.autoRemove=function(e){return e===void 0};var Kt=function(e,t,n){return e.filter(function(r){return t.some(function(s){return r.values[s]==n})})};Kt.autoRemove=function(e){return e==null};var Vt=function(e,t,n){var r=n||[],s=r[0],o=r[1];if((s=typeof s=="number"?s:-1/0)>(o=typeof o=="number"?o:1/0)){var i=s;s=o,o=i}return e.filter(function(f){return t.some(function(g){var m=f.values[g];return m>=s&&m<=o})})};Vt.autoRemove=function(e){return!e||typeof e[0]!="number"&&typeof e[1]!="number"};var Ve=Object.freeze({__proto__:null,text:Ot,exactText:Lt,exactTextCase:_t,includes:Nt,includesAll:qt,includesSome:$t,includesValue:Xt,exact:Ut,equals:Kt,between:Vt});u.resetFilters="resetFilters",u.setFilter="setFilter",u.setAllFilters="setAllFilters";var Jt=function(e){e.stateReducers.push(dr),e.useInstance.push(pr)};function dr(e,t,n,r){if(t.type===u.init)return c({filters:[]},e);if(t.type===u.resetFilters)return c({},e,{filters:r.initialState.filters||[]});if(t.type===u.setFilter){var s=t.columnId,o=t.filterValue,i=r.allColumns,f=r.filterTypes,g=i.find(function(B){return B.id===s});if(!g)throw new Error("React-Table: Could not find a column with id: "+s);var m=oe(g.filter,f||{},Ve),S=e.filters.find(function(B){return B.id===s}),y=ce(o,S&&S.value);return J(m.autoRemove,y,g)?c({},e,{filters:e.filters.filter(function(B){return B.id!==s})}):c({},e,S?{filters:e.filters.map(function(B){return B.id===s?{id:s,value:y}:B})}:{filters:[].concat(e.filters,[{id:s,value:y}])})}if(t.type===u.setAllFilters){var x=t.filters,h=r.allColumns,w=r.filterTypes;return c({},e,{filters:ce(x,e.filters).filter(function(B){var j=h.find(function(T){return T.id===B.id});return!J(oe(j.filter,w||{},Ve).autoRemove,B.value,j)})})}}function pr(e){var t=e.data,n=e.rows,r=e.flatRows,s=e.rowsById,o=e.allColumns,i=e.filterTypes,f=e.manualFilters,g=e.defaultCanFilter,m=g!==void 0&&g,S=e.disableFilters,y=e.state.filters,x=e.dispatch,h=e.autoResetFilters,w=h===void 0||h,B=p.useCallback(function(I,H){x({type:u.setFilter,columnId:I,filterValue:H})},[x]),j=p.useCallback(function(I){x({type:u.setAllFilters,filters:I})},[x]);o.forEach(function(I){var H=I.id,$=I.accessor,G=I.defaultCanFilter,D=I.disableFilters;I.canFilter=$?ne(D!==!0&&void 0,S!==!0&&void 0,!0):ne(G,m,!1),I.setFilter=function(z){return B(I.id,z)};var ee=y.find(function(z){return z.id===H});I.filterValue=ee&&ee.value});var T=p.useMemo(function(){if(f||!y.length)return[n,r,s];var I=[],H={};return[function $(G,D){D===void 0&&(D=0);var ee=G;return(ee=y.reduce(function(z,Y){var V=Y.id,se=Y.value,F=o.find(function(me){return me.id===V});if(!F)return z;D===0&&(F.preFilteredRows=z);var K=oe(F.filter,i||{},Ve);return K?(F.filteredRows=K(z,[V],se),F.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+F.id+"."),z)},G)).forEach(function(z){I.push(z),H[z.id]=z,z.subRows&&(z.subRows=z.subRows&&z.subRows.length>0?$(z.subRows,D+1):z.subRows)}),ee}(n),I,H]},[f,y,n,r,s,o,i]),O=T[0],E=T[1],C=T[2];p.useMemo(function(){o.filter(function(I){return!y.find(function(H){return H.id===I.id})}).forEach(function(I){I.preFilteredRows=O,I.filteredRows=O})},[O,y,o]);var W=N(w);Z(function(){W()&&x({type:u.resetFilters})},[x,f?null:t]),Object.assign(e,{preFilteredRows:n,preFilteredFlatRows:r,preFilteredRowsById:s,filteredRows:O,filteredFlatRows:E,filteredRowsById:C,rows:O,flatRows:E,rowsById:C,setFilter:B,setAllFilters:j})}Jt.pluginName="useFilters",u.resetGlobalFilter="resetGlobalFilter",u.setGlobalFilter="setGlobalFilter";var Yt=function(e){e.stateReducers.push(fr),e.useInstance.push(gr)};function fr(e,t,n,r){if(t.type===u.resetGlobalFilter)return c({},e,{globalFilter:r.initialState.globalFilter||void 0});if(t.type===u.setGlobalFilter){var s=t.filterValue,o=r.userFilterTypes,i=oe(r.globalFilter,o||{},Ve),f=ce(s,e.globalFilter);return J(i.autoRemove,f)?(e.globalFilter,R(e,["globalFilter"])):c({},e,{globalFilter:f})}}function gr(e){var t=e.data,n=e.rows,r=e.flatRows,s=e.rowsById,o=e.allColumns,i=e.filterTypes,f=e.globalFilter,g=e.manualGlobalFilter,m=e.state.globalFilter,S=e.dispatch,y=e.autoResetGlobalFilter,x=y===void 0||y,h=e.disableGlobalFilter,w=p.useCallback(function(C){S({type:u.setGlobalFilter,filterValue:C})},[S]),B=p.useMemo(function(){if(g||m===void 0)return[n,r,s];var C=[],W={},I=oe(f,i||{},Ve);if(!I)return console.warn("Could not find a valid 'globalFilter' option."),n;o.forEach(function($){var G=$.disableGlobalFilter;$.canFilter=ne(G!==!0&&void 0,h!==!0&&void 0,!0)});var H=o.filter(function($){return $.canFilter===!0});return[function $(G){return(G=I(G,H.map(function(D){return D.id}),m)).forEach(function(D){C.push(D),W[D.id]=D,D.subRows=D.subRows&&D.subRows.length?$(D.subRows):D.subRows}),G}(n),C,W]},[g,m,f,i,o,n,r,s,h]),j=B[0],T=B[1],O=B[2],E=N(x);Z(function(){E()&&S({type:u.resetGlobalFilter})},[S,g?null:t]),Object.assign(e,{preGlobalFilteredRows:n,preGlobalFilteredFlatRows:r,preGlobalFilteredRowsById:s,globalFilteredRows:j,globalFilteredFlatRows:T,globalFilteredRowsById:O,rows:j,flatRows:T,rowsById:O,setGlobalFilter:w,disableGlobalFilter:h})}function Qt(e,t){return t.reduce(function(n,r){return n+(typeof r=="number"?r:0)},0)}Yt.pluginName="useGlobalFilter";var Zt=Object.freeze({__proto__:null,sum:Qt,min:function(e){var t=e[0]||0;return e.forEach(function(n){typeof n=="number"&&(t=Math.min(t,n))}),t},max:function(e){var t=e[0]||0;return e.forEach(function(n){typeof n=="number"&&(t=Math.max(t,n))}),t},minMax:function(e){var t=e[0]||0,n=e[0]||0;return e.forEach(function(r){typeof r=="number"&&(t=Math.min(t,r),n=Math.max(n,r))}),t+".."+n},average:function(e){return Qt(0,e)/e.length},median:function(e){if(!e.length)return null;var t=Math.floor(e.length/2),n=[].concat(e).sort(function(r,s){return r-s});return e.length%2!=0?n[t]:(n[t-1]+n[t])/2},unique:function(e){return Array.from(new Set(e).values())},uniqueCount:function(e){return new Set(e).size},count:function(e){return e.length}}),mr=[],vr={};u.resetGroupBy="resetGroupBy",u.setGroupBy="setGroupBy",u.toggleGroupBy="toggleGroupBy";var en=function(e){e.getGroupByToggleProps=[hr],e.stateReducers.push(br),e.visibleColumnsDeps.push(function(t,n){var r=n.instance;return[].concat(t,[r.state.groupBy])}),e.visibleColumns.push(yr),e.useInstance.push(wr),e.prepareRow.push(Rr)};en.pluginName="useGroupBy";var hr=function(e,t){var n=t.header;return[e,{onClick:n.canGroupBy?function(r){r.persist(),n.toggleGroupBy()}:void 0,style:{cursor:n.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function br(e,t,n,r){if(t.type===u.init)return c({groupBy:[]},e);if(t.type===u.resetGroupBy)return c({},e,{groupBy:r.initialState.groupBy||[]});if(t.type===u.setGroupBy)return c({},e,{groupBy:t.value});if(t.type===u.toggleGroupBy){var s=t.columnId,o=t.value,i=o!==void 0?o:!e.groupBy.includes(s);return c({},e,i?{groupBy:[].concat(e.groupBy,[s])}:{groupBy:e.groupBy.filter(function(f){return f!==s})})}}function yr(e,t){var n=t.instance.state.groupBy,r=n.map(function(o){return e.find(function(i){return i.id===o})}).filter(Boolean),s=e.filter(function(o){return!n.includes(o.id)});return(e=[].concat(r,s)).forEach(function(o){o.isGrouped=n.includes(o.id),o.groupedIndex=n.indexOf(o.id)}),e}var xr={};function wr(e){var t=e.data,n=e.rows,r=e.flatRows,s=e.rowsById,o=e.allColumns,i=e.flatHeaders,f=e.groupByFn,g=f===void 0?tn:f,m=e.manualGroupBy,S=e.aggregations,y=S===void 0?xr:S,x=e.plugins,h=e.state.groupBy,w=e.dispatch,B=e.autoResetGroupBy,j=B===void 0||B,T=e.disableGroupBy,O=e.defaultCanGroupBy,E=e.getHooks;Q(x,["useColumnOrder","useFilters"],"useGroupBy");var C=N(e);o.forEach(function(F){var K=F.accessor,me=F.defaultGroupBy,je=F.disableGroupBy;F.canGroupBy=K?ne(F.canGroupBy,je!==!0&&void 0,T!==!0&&void 0,!0):ne(F.canGroupBy,me,O,!1),F.canGroupBy&&(F.toggleGroupBy=function(){return e.toggleGroupBy(F.id)}),F.Aggregated=F.Aggregated||F.Cell});var W=p.useCallback(function(F,K){w({type:u.toggleGroupBy,columnId:F,value:K})},[w]),I=p.useCallback(function(F){w({type:u.setGroupBy,value:F})},[w]);i.forEach(function(F){F.getGroupByToggleProps=A(E().getGroupByToggleProps,{instance:C(),header:F})});var H=p.useMemo(function(){if(m||!h.length)return[n,r,s,mr,vr,r,s];var F=h.filter(function(Re){return o.find(function(He){return He.id===Re})}),K=[],me={},je=[],M={},pe=[],ve={},Ie=function Re(He,Me,xn){if(Me===void 0&&(Me=0),Me===F.length)return He.map(function(lt){return c({},lt,{depth:Me})});var jt=F[Me],co=g(He,jt);return Object.entries(co).map(function(lt,po){var wn=lt[0],ut=lt[1],ct=jt+":"+wn,Rn=Re(ut,Me+1,ct=xn?xn+">"+ct:ct),Sn=Me?Fe(ut,"leafRows"):ut,fo=function(Ae,It,mo){var dt={};return o.forEach(function(he){if(F.includes(he.id))dt[he.id]=It[0]?It[0].values[he.id]:null;else{var Cn=typeof he.aggregate=="function"?he.aggregate:y[he.aggregate]||Zt[he.aggregate];if(Cn){var vo=It.map(function(pt){return pt.values[he.id]}),ho=Ae.map(function(pt){var Et=pt.values[he.id];if(!mo&&he.aggregateValue){var Pn=typeof he.aggregateValue=="function"?he.aggregateValue:y[he.aggregateValue]||Zt[he.aggregateValue];if(!Pn)throw console.info({column:he}),new Error("React Table: Invalid column.aggregateValue option for column listed above");Et=Pn(Et,pt,he)}return Et});dt[he.id]=Cn(ho,vo)}else{if(he.aggregate)throw console.info({column:he}),new Error("React Table: Invalid column.aggregate option for column listed above");dt[he.id]=null}}}),dt}(Sn,ut,Me),go={id:ct,isGrouped:!0,groupByID:jt,groupByVal:wn,values:fo,subRows:Rn,leafRows:Sn,depth:Me,index:po};return Rn.forEach(function(Ae){K.push(Ae),me[Ae.id]=Ae,Ae.isGrouped?(je.push(Ae),M[Ae.id]=Ae):(pe.push(Ae),ve[Ae.id]=Ae)}),go})}(n);return Ie.forEach(function(Re){K.push(Re),me[Re.id]=Re,Re.isGrouped?(je.push(Re),M[Re.id]=Re):(pe.push(Re),ve[Re.id]=Re)}),[Ie,K,me,je,M,pe,ve]},[m,h,n,r,s,o,y,g]),$=H[0],G=H[1],D=H[2],ee=H[3],z=H[4],Y=H[5],V=H[6],se=N(j);Z(function(){se()&&w({type:u.resetGroupBy})},[w,m?null:t]),Object.assign(e,{preGroupedRows:n,preGroupedFlatRow:r,preGroupedRowsById:s,groupedRows:$,groupedFlatRows:G,groupedRowsById:D,onlyGroupedFlatRows:ee,onlyGroupedRowsById:z,nonGroupedFlatRows:Y,nonGroupedRowsById:V,rows:$,flatRows:G,rowsById:D,toggleGroupBy:W,setGroupBy:I})}function Rr(e){e.allCells.forEach(function(t){var n;t.isGrouped=t.column.isGrouped&&t.column.id===e.groupByID,t.isPlaceholder=!t.isGrouped&&t.column.isGrouped,t.isAggregated=!t.isGrouped&&!t.isPlaceholder&&((n=e.subRows)==null?void 0:n.length)})}function tn(e,t){return e.reduce(function(n,r,s){var o=""+r.values[t];return n[o]=Array.isArray(n[o])?n[o]:[],n[o].push(r),n},{})}var nn=/([0-9]+)/gm;function wt(e,t){return e===t?0:e>t?1:-1}function Je(e,t,n){return[e.values[n],t.values[n]]}function rn(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}var Sr=Object.freeze({__proto__:null,alphanumeric:function(e,t,n){var r=Je(e,t,n),s=r[0],o=r[1];for(s=rn(s),o=rn(o),s=s.split(nn).filter(Boolean),o=o.split(nn).filter(Boolean);s.length&&o.length;){var i=s.shift(),f=o.shift(),g=parseInt(i,10),m=parseInt(f,10),S=[g,m].sort();if(isNaN(S[0])){if(i>f)return 1;if(f>i)return-1}else{if(isNaN(S[1]))return isNaN(g)?-1:1;if(g>m)return 1;if(m>g)return-1}}return s.length-o.length},datetime:function(e,t,n){var r=Je(e,t,n),s=r[0],o=r[1];return wt(s=s.getTime(),o=o.getTime())},basic:function(e,t,n){var r=Je(e,t,n);return wt(r[0],r[1])},string:function(e,t,n){var r=Je(e,t,n),s=r[0],o=r[1];for(s=s.split("").filter(Boolean),o=o.split("").filter(Boolean);s.length&&o.length;){var i=s.shift(),f=o.shift(),g=i.toLowerCase(),m=f.toLowerCase();if(g>m)return 1;if(m>g)return-1;if(i>f)return 1;if(f>i)return-1}return s.length-o.length},number:function(e,t,n){var r=Je(e,t,n),s=r[0],o=r[1],i=/[^0-9.]/gi;return wt(s=Number(String(s).replace(i,"")),o=Number(String(o).replace(i,"")))}});u.resetSortBy="resetSortBy",u.setSortBy="setSortBy",u.toggleSortBy="toggleSortBy",u.clearSortBy="clearSortBy",ie.sortType="alphanumeric",ie.sortDescFirst=!1;var on=function(e){e.getSortByToggleProps=[Cr],e.stateReducers.push(Pr),e.useInstance.push(Br)};on.pluginName="useSortBy";var Cr=function(e,t){var n=t.instance,r=t.column,s=n.isMultiSortEvent,o=s===void 0?function(i){return i.shiftKey}:s;return[e,{onClick:r.canSort?function(i){i.persist(),r.toggleSortBy(void 0,!n.disableMultiSort&&o(i))}:void 0,style:{cursor:r.canSort?"pointer":void 0},title:r.canSort?"Toggle SortBy":void 0}]};function Pr(e,t,n,r){if(t.type===u.init)return c({sortBy:[]},e);if(t.type===u.resetSortBy)return c({},e,{sortBy:r.initialState.sortBy||[]});if(t.type===u.clearSortBy)return c({},e,{sortBy:e.sortBy.filter(function(C){return C.id!==t.columnId})});if(t.type===u.setSortBy)return c({},e,{sortBy:t.sortBy});if(t.type===u.toggleSortBy){var s,o=t.columnId,i=t.desc,f=t.multi,g=r.allColumns,m=r.disableMultiSort,S=r.disableSortRemove,y=r.disableMultiRemove,x=r.maxMultiSortColCount,h=x===void 0?Number.MAX_SAFE_INTEGER:x,w=e.sortBy,B=g.find(function(C){return C.id===o}).sortDescFirst,j=w.find(function(C){return C.id===o}),T=w.findIndex(function(C){return C.id===o}),O=i!=null,E=[];return(s=!m&&f?j?"toggle":"add":T!==w.length-1||w.length!==1?"replace":j?"toggle":"replace")!="toggle"||S||O||f&&y||!(j&&j.desc&&!B||!j.desc&&B)||(s="remove"),s==="replace"?E=[{id:o,desc:O?i:B}]:s==="add"?(E=[].concat(w,[{id:o,desc:O?i:B}])).splice(0,E.length-h):s==="toggle"?E=w.map(function(C){return C.id===o?c({},C,{desc:O?i:!j.desc}):C}):s==="remove"&&(E=w.filter(function(C){return C.id!==o})),c({},e,{sortBy:E})}}function Br(e){var t=e.data,n=e.rows,r=e.flatRows,s=e.allColumns,o=e.orderByFn,i=o===void 0?sn:o,f=e.sortTypes,g=e.manualSortBy,m=e.defaultCanSort,S=e.disableSortBy,y=e.flatHeaders,x=e.state.sortBy,h=e.dispatch,w=e.plugins,B=e.getHooks,j=e.autoResetSortBy,T=j===void 0||j;Q(w,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var O=p.useCallback(function(G){h({type:u.setSortBy,sortBy:G})},[h]),E=p.useCallback(function(G,D,ee){h({type:u.toggleSortBy,columnId:G,desc:D,multi:ee})},[h]),C=N(e);y.forEach(function(G){var D=G.accessor,ee=G.canSort,z=G.disableSortBy,Y=G.id,V=D?ne(z!==!0&&void 0,S!==!0&&void 0,!0):ne(m,ee,!1);G.canSort=V,G.canSort&&(G.toggleSortBy=function(F,K){return E(G.id,F,K)},G.clearSortBy=function(){h({type:u.clearSortBy,columnId:G.id})}),G.getSortByToggleProps=A(B().getSortByToggleProps,{instance:C(),column:G});var se=x.find(function(F){return F.id===Y});G.isSorted=!!se,G.sortedIndex=x.findIndex(function(F){return F.id===Y}),G.isSortedDesc=G.isSorted?se.desc:void 0});var W=p.useMemo(function(){if(g||!x.length)return[n,r];var G=[],D=x.filter(function(ee){return s.find(function(z){return z.id===ee.id})});return[function ee(z){var Y=i(z,D.map(function(V){var se=s.find(function(me){return me.id===V.id});if(!se)throw new Error("React-Table: Could not find a column with id: "+V.id+" while sorting");var F=se.sortType,K=we(F)||(f||{})[F]||Sr[F];if(!K)throw new Error("React-Table: Could not find a valid sortType of '"+F+"' for column '"+V.id+"'.");return function(me,je){return K(me,je,V.id,V.desc)}}),D.map(function(V){var se=s.find(function(F){return F.id===V.id});return se&&se.sortInverted?V.desc:!V.desc}));return Y.forEach(function(V){G.push(V),V.subRows&&V.subRows.length!==0&&(V.subRows=ee(V.subRows))}),Y}(n),G]},[g,x,n,r,s,i,f]),I=W[0],H=W[1],$=N(T);Z(function(){$()&&h({type:u.resetSortBy})},[g?null:t]),Object.assign(e,{preSortedRows:n,preSortedFlatRows:r,sortedRows:I,sortedFlatRows:H,rows:I,flatRows:H,setSortBy:O,toggleSortBy:E})}function sn(e,t,n){return[].concat(e).sort(function(r,s){for(var o=0;o<t.length;o+=1){var i=t[o],f=n[o]===!1||n[o]==="desc",g=i(r,s);if(g!==0)return f?-g:g}return n[0]?r.index-s.index:s.index-r.index})}u.resetPage="resetPage",u.gotoPage="gotoPage",u.setPageSize="setPageSize";var an=function(e){e.stateReducers.push(jr),e.useInstance.push(Ir)};function jr(e,t,n,r){if(t.type===u.init)return c({pageSize:10,pageIndex:0},e);if(t.type===u.resetPage)return c({},e,{pageIndex:r.initialState.pageIndex||0});if(t.type===u.gotoPage){var s=r.pageCount,o=r.page,i=ce(t.pageIndex,e.pageIndex),f=!1;return i>e.pageIndex?f=s===-1?o.length>=e.pageSize:i<s:i<e.pageIndex&&(f=i>-1),f?c({},e,{pageIndex:i}):e}if(t.type===u.setPageSize){var g=t.pageSize,m=e.pageSize*e.pageIndex;return c({},e,{pageIndex:Math.floor(m/g),pageSize:g})}}function Ir(e){var t=e.rows,n=e.autoResetPage,r=n===void 0||n,s=e.manualExpandedKey,o=s===void 0?"expanded":s,i=e.plugins,f=e.pageCount,g=e.paginateExpandedRows,m=g===void 0||g,S=e.expandSubRows,y=S===void 0||S,x=e.state,h=x.pageSize,w=x.pageIndex,B=x.expanded,j=x.globalFilter,T=x.filters,O=x.groupBy,E=x.sortBy,C=e.dispatch,W=e.data,I=e.manualPagination;Q(i,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var H=N(r);Z(function(){H()&&C({type:u.resetPage})},[C,I?null:W,j,T,O,E]);var $=I?f:Math.ceil(t.length/h),G=p.useMemo(function(){return $>0?[].concat(new Array($)).fill(null).map(function(K,me){return me}):[]},[$]),D=p.useMemo(function(){var K;if(I)K=t;else{var me=h*w,je=me+h;K=t.slice(me,je)}return m?K:Pe(K,{manualExpandedKey:o,expanded:B,expandSubRows:y})},[y,B,o,I,w,h,m,t]),ee=w>0,z=$===-1?D.length>=h:w<$-1,Y=p.useCallback(function(K){C({type:u.gotoPage,pageIndex:K})},[C]),V=p.useCallback(function(){return Y(function(K){return K-1})},[Y]),se=p.useCallback(function(){return Y(function(K){return K+1})},[Y]),F=p.useCallback(function(K){C({type:u.setPageSize,pageSize:K})},[C]);Object.assign(e,{pageOptions:G,pageCount:$,page:D,canPreviousPage:ee,canNextPage:z,gotoPage:Y,previousPage:V,nextPage:se,setPageSize:F})}an.pluginName="usePagination",u.resetPivot="resetPivot",u.togglePivot="togglePivot";var ln=function(e){e.getPivotToggleProps=[Er],e.stateReducers.push(Tr),e.useInstanceAfterData.push(Fr),e.allColumns.push(kr),e.accessValue.push(Ar),e.materializedColumns.push(Gr),e.materializedColumnsDeps.push(Mr),e.visibleColumns.push(Dr),e.visibleColumnsDeps.push(Hr),e.useInstance.push(zr),e.prepareRow.push(Wr)};ln.pluginName="usePivotColumns";var un=[],Er=function(e,t){var n=t.header;return[e,{onClick:n.canPivot?function(r){r.persist(),n.togglePivot()}:void 0,style:{cursor:n.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function Tr(e,t,n,r){if(t.type===u.init)return c({pivotColumns:un},e);if(t.type===u.resetPivot)return c({},e,{pivotColumns:r.initialState.pivotColumns||un});if(t.type===u.togglePivot){var s=t.columnId,o=t.value,i=o!==void 0?o:!e.pivotColumns.includes(s);return c({},e,i?{pivotColumns:[].concat(e.pivotColumns,[s])}:{pivotColumns:e.pivotColumns.filter(function(f){return f!==s})})}}function Fr(e){e.allColumns.forEach(function(t){t.isPivotSource=e.state.pivotColumns.includes(t.id)})}function kr(e,t){var n=t.instance;return e.forEach(function(r){r.isPivotSource=n.state.pivotColumns.includes(r.id),r.uniqueValues=new Set}),e}function Ar(e,t){var n=t.column;return n.uniqueValues&&e!==void 0&&n.uniqueValues.add(e),e}function Gr(e,t){var n=t.instance,r=n.allColumns,s=n.state;if(!s.pivotColumns.length||!s.groupBy||!s.groupBy.length)return e;var o=s.pivotColumns.map(function(g){return r.find(function(m){return m.id===g})}).filter(Boolean),i=r.filter(function(g){return!g.isPivotSource&&!s.groupBy.includes(g.id)&&!s.pivotColumns.includes(g.id)}),f=ye(function g(m,S,y){m===void 0&&(m=0),y===void 0&&(y=[]);var x=o[m];return x?Array.from(x.uniqueValues).sort().map(function(h){var w=c({},x,{Header:x.PivotHeader||typeof x.header=="string"?x.Header+": "+h:h,isPivotGroup:!0,parent:S,depth:m,id:S?S.id+"."+x.id+"."+h:x.id+"."+h,pivotValue:h});return w.columns=g(m+1,w,[].concat(y,[function(B){return B.values[x.id]===h}])),w}):i.map(function(h){return c({},h,{canPivot:!1,isPivoted:!0,parent:S,depth:m,id:""+(S?S.id+"."+h.id:h.id),accessor:function(w,B,j){if(y.every(function(T){return T(j)}))return j.values[h.id]}})})}());return[].concat(e,f)}function Mr(e,t){var n=t.instance.state,r=n.pivotColumns,s=n.groupBy;return[].concat(e,[r,s])}function Dr(e,t){var n=t.instance.state;return e=e.filter(function(r){return!r.isPivotSource}),n.pivotColumns.length&&n.groupBy&&n.groupBy.length&&(e=e.filter(function(r){return r.isGrouped||r.isPivoted})),e}function Hr(e,t){var n=t.instance;return[].concat(e,[n.state.pivotColumns,n.state.groupBy])}function zr(e){var t=e.columns,n=e.allColumns,r=e.flatHeaders,s=e.getHooks,o=e.plugins,i=e.dispatch,f=e.autoResetPivot,g=f===void 0||f,m=e.manaulPivot,S=e.disablePivot,y=e.defaultCanPivot;Q(o,["useGroupBy"],"usePivotColumns");var x=N(e);n.forEach(function(w){var B=w.accessor,j=w.defaultPivot,T=w.disablePivot;w.canPivot=B?ne(w.canPivot,T!==!0&&void 0,S!==!0&&void 0,!0):ne(w.canPivot,j,y,!1),w.canPivot&&(w.togglePivot=function(){return e.togglePivot(w.id)}),w.Aggregated=w.Aggregated||w.Cell}),r.forEach(function(w){w.getPivotToggleProps=A(s().getPivotToggleProps,{instance:x(),header:w})});var h=N(g);Z(function(){h()&&i({type:u.resetPivot})},[i,m?null:t]),Object.assign(e,{togglePivot:function(w,B){i({type:u.togglePivot,columnId:w,value:B})}})}function Wr(e){e.allCells.forEach(function(t){t.isPivoted=t.column.isPivoted})}u.resetSelectedRows="resetSelectedRows",u.toggleAllRowsSelected="toggleAllRowsSelected",u.toggleRowSelected="toggleRowSelected",u.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var cn=function(e){e.getToggleRowSelectedProps=[Or],e.getToggleAllRowsSelectedProps=[Lr],e.getToggleAllPageRowsSelectedProps=[_r],e.stateReducers.push(Nr),e.useInstance.push(qr),e.prepareRow.push($r)};cn.pluginName="useRowSelect";var Or=function(e,t){var n=t.instance,r=t.row,s=n.manualRowSelectedKey,o=s===void 0?"isSelected":s;return[e,{onChange:function(i){r.toggleRowSelected(i.target.checked)},style:{cursor:"pointer"},checked:!(!r.original||!r.original[o])||r.isSelected,title:"Toggle Row Selected",indeterminate:r.isSomeSelected}]},Lr=function(e,t){var n=t.instance;return[e,{onChange:function(r){n.toggleAllRowsSelected(r.target.checked)},style:{cursor:"pointer"},checked:n.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:!!(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]},_r=function(e,t){var n=t.instance;return[e,{onChange:function(r){n.toggleAllPageRowsSelected(r.target.checked)},style:{cursor:"pointer"},checked:n.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:!!(!n.isAllPageRowsSelected&&n.page.some(function(r){var s=r.id;return n.state.selectedRowIds[s]}))}]};function Nr(e,t,n,r){if(t.type===u.init)return c({selectedRowIds:{}},e);if(t.type===u.resetSelectedRows)return c({},e,{selectedRowIds:r.initialState.selectedRowIds||{}});if(t.type===u.toggleAllRowsSelected){var s=t.value,o=r.isAllRowsSelected,i=r.rowsById,f=r.nonGroupedRowsById,g=f===void 0?i:f,m=s!==void 0?s:!o,S=Object.assign({},e.selectedRowIds);return m?Object.keys(g).forEach(function(Y){S[Y]=!0}):Object.keys(g).forEach(function(Y){delete S[Y]}),c({},e,{selectedRowIds:S})}if(t.type===u.toggleRowSelected){var y=t.id,x=t.value,h=r.rowsById,w=r.selectSubRows,B=w===void 0||w,j=r.getSubRows,T=e.selectedRowIds[y],O=x!==void 0?x:!T;if(T===O)return e;var E=c({},e.selectedRowIds);return function Y(V){var se=h[V];if(se&&(se.isGrouped||(O?E[V]=!0:delete E[V]),B&&j(se)))return j(se).forEach(function(F){return Y(F.id)})}(y),c({},e,{selectedRowIds:E})}if(t.type===u.toggleAllPageRowsSelected){var C=t.value,W=r.page,I=r.rowsById,H=r.selectSubRows,$=H===void 0||H,G=r.isAllPageRowsSelected,D=r.getSubRows,ee=C!==void 0?C:!G,z=c({},e.selectedRowIds);return W.forEach(function(Y){return function V(se){var F=I[se];if(F.isGrouped||(ee?z[se]=!0:delete z[se]),$&&D(F))return D(F).forEach(function(K){return V(K.id)})}(Y.id)}),c({},e,{selectedRowIds:z})}return e}function qr(e){var t=e.data,n=e.rows,r=e.getHooks,s=e.plugins,o=e.rowsById,i=e.nonGroupedRowsById,f=i===void 0?o:i,g=e.autoResetSelectedRows,m=g===void 0||g,S=e.state.selectedRowIds,y=e.selectSubRows,x=y===void 0||y,h=e.dispatch,w=e.page,B=e.getSubRows;Q(s,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var j=p.useMemo(function(){var D=[];return n.forEach(function(ee){var z=x?function Y(V,se,F){if(se[V.id])return!0;var K=F(V);if(K&&K.length){var me=!0,je=!1;return K.forEach(function(M){je&&!me||(Y(M,se,F)?je=!0:me=!1)}),!!me||!!je&&null}return!1}(ee,S,B):!!S[ee.id];ee.isSelected=!!z,ee.isSomeSelected=z===null,z&&D.push(ee)}),D},[n,x,S,B]),T=!!(Object.keys(f).length&&Object.keys(S).length),O=T;T&&Object.keys(f).some(function(D){return!S[D]})&&(T=!1),T||w&&w.length&&w.some(function(D){var ee=D.id;return!S[ee]})&&(O=!1);var E=N(m);Z(function(){E()&&h({type:u.resetSelectedRows})},[h,t]);var C=p.useCallback(function(D){return h({type:u.toggleAllRowsSelected,value:D})},[h]),W=p.useCallback(function(D){return h({type:u.toggleAllPageRowsSelected,value:D})},[h]),I=p.useCallback(function(D,ee){return h({type:u.toggleRowSelected,id:D,value:ee})},[h]),H=N(e),$=A(r().getToggleAllRowsSelectedProps,{instance:H()}),G=A(r().getToggleAllPageRowsSelectedProps,{instance:H()});Object.assign(e,{selectedFlatRows:j,isAllRowsSelected:T,isAllPageRowsSelected:O,toggleRowSelected:I,toggleAllRowsSelected:C,getToggleAllRowsSelectedProps:$,getToggleAllPageRowsSelectedProps:G,toggleAllPageRowsSelected:W})}function $r(e,t){var n=t.instance;e.toggleRowSelected=function(r){return n.toggleRowSelected(e.id,r)},e.getToggleRowSelectedProps=A(n.getHooks().getToggleRowSelectedProps,{instance:n,row:e})}var dn=function(e){return{}},pn=function(e){return{}};u.setRowState="setRowState",u.setCellState="setCellState",u.resetRowState="resetRowState";var fn=function(e){e.stateReducers.push(Xr),e.useInstance.push(Ur),e.prepareRow.push(Kr)};function Xr(e,t,n,r){var s=r.initialRowStateAccessor,o=s===void 0?dn:s,i=r.initialCellStateAccessor,f=i===void 0?pn:i,g=r.rowsById;if(t.type===u.init)return c({rowState:{}},e);if(t.type===u.resetRowState)return c({},e,{rowState:r.initialState.rowState||{}});if(t.type===u.setRowState){var m,S=t.rowId,y=t.value,x=e.rowState[S]!==void 0?e.rowState[S]:o(g[S]);return c({},e,{rowState:c({},e.rowState,(m={},m[S]=ce(y,x),m))})}if(t.type===u.setCellState){var h,w,B,j,T,O=t.rowId,E=t.columnId,C=t.value,W=e.rowState[O]!==void 0?e.rowState[O]:o(g[O]),I=(W==null||(h=W.cellState)==null?void 0:h[E])!==void 0?W.cellState[E]:f((w=g[O])==null||(B=w.cells)==null?void 0:B.find(function(H){return H.column.id===E}));return c({},e,{rowState:c({},e.rowState,(T={},T[O]=c({},W,{cellState:c({},W.cellState||{},(j={},j[E]=ce(C,I),j))}),T))})}}function Ur(e){var t=e.autoResetRowState,n=t===void 0||t,r=e.data,s=e.dispatch,o=p.useCallback(function(g,m){return s({type:u.setRowState,rowId:g,value:m})},[s]),i=p.useCallback(function(g,m,S){return s({type:u.setCellState,rowId:g,columnId:m,value:S})},[s]),f=N(n);Z(function(){f()&&s({type:u.resetRowState})},[r]),Object.assign(e,{setRowState:o,setCellState:i})}function Kr(e,t){var n=t.instance,r=n.initialRowStateAccessor,s=r===void 0?dn:r,o=n.initialCellStateAccessor,i=o===void 0?pn:o,f=n.state.rowState;e&&(e.state=f[e.id]!==void 0?f[e.id]:s(e),e.setState=function(g){return n.setRowState(e.id,g)},e.cells.forEach(function(g){e.state.cellState||(e.state.cellState={}),g.state=e.state.cellState[g.column.id]!==void 0?e.state.cellState[g.column.id]:i(g),g.setState=function(m){return n.setCellState(e.id,g.column.id,m)}}))}fn.pluginName="useRowState",u.resetColumnOrder="resetColumnOrder",u.setColumnOrder="setColumnOrder";var gn=function(e){e.stateReducers.push(Vr),e.visibleColumnsDeps.push(function(t,n){var r=n.instance;return[].concat(t,[r.state.columnOrder])}),e.visibleColumns.push(Jr),e.useInstance.push(Yr)};function Vr(e,t,n,r){return t.type===u.init?c({columnOrder:[]},e):t.type===u.resetColumnOrder?c({},e,{columnOrder:r.initialState.columnOrder||[]}):t.type===u.setColumnOrder?c({},e,{columnOrder:ce(t.columnOrder,e.columnOrder)}):void 0}function Jr(e,t){var n=t.instance.state.columnOrder;if(!n||!n.length)return e;for(var r=[].concat(n),s=[].concat(e),o=[],i=function(){var f=r.shift(),g=s.findIndex(function(m){return m.id===f});g>-1&&o.push(s.splice(g,1)[0])};s.length&&r.length;)i();return[].concat(o,s)}function Yr(e){var t=e.dispatch;e.setColumnOrder=p.useCallback(function(n){return t({type:u.setColumnOrder,columnOrder:n})},[t])}gn.pluginName="useColumnOrder",ie.canResize=!0,u.columnStartResizing="columnStartResizing",u.columnResizing="columnResizing",u.columnDoneResizing="columnDoneResizing",u.resetResize="resetResize";var mn=function(e){e.getResizerProps=[Qr],e.getHeaderProps.push({style:{position:"relative"}}),e.stateReducers.push(Zr),e.useInstance.push(to),e.useInstanceBeforeDimensions.push(eo)},Qr=function(e,t){var n=t.instance,r=t.header,s=n.dispatch,o=function(i,f){var g=!1;if(i.type==="touchstart"){if(i.touches&&i.touches.length>1)return;g=!0}var m,S,y=function(E){var C=[];return function W(I){I.columns&&I.columns.length&&I.columns.map(W),C.push(I)}(E),C}(f).map(function(E){return[E.id,E.totalWidth]}),x=g?Math.round(i.touches[0].clientX):i.clientX,h=function(){window.cancelAnimationFrame(m),m=null,s({type:u.columnDoneResizing})},w=function(){window.cancelAnimationFrame(m),m=null,s({type:u.columnResizing,clientX:S})},B=function(E){S=E,m||(m=window.requestAnimationFrame(w))},j={mouse:{moveEvent:"mousemove",moveHandler:function(E){return B(E.clientX)},upEvent:"mouseup",upHandler:function(E){document.removeEventListener("mousemove",j.mouse.moveHandler),document.removeEventListener("mouseup",j.mouse.upHandler),h()}},touch:{moveEvent:"touchmove",moveHandler:function(E){return E.cancelable&&(E.preventDefault(),E.stopPropagation()),B(E.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(E){document.removeEventListener(j.touch.moveEvent,j.touch.moveHandler),document.removeEventListener(j.touch.upEvent,j.touch.moveHandler),h()}}},T=g?j.touch:j.mouse,O=!!function(){if(typeof Be=="boolean")return Be;var E=!1;try{var C={get passive(){return E=!0,!1}};window.addEventListener("test",null,C),window.removeEventListener("test",null,C)}catch{E=!1}return Be=E}()&&{passive:!1};document.addEventListener(T.moveEvent,T.moveHandler,O),document.addEventListener(T.upEvent,T.upHandler,O),s({type:u.columnStartResizing,columnId:f.id,columnWidth:f.totalWidth,headerIdWidths:y,clientX:x})};return[e,{onMouseDown:function(i){return i.persist()||o(i,r)},onTouchStart:function(i){return i.persist()||o(i,r)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function Zr(e,t){if(t.type===u.init)return c({columnResizing:{columnWidths:{}}},e);if(t.type===u.resetResize)return c({},e,{columnResizing:{columnWidths:{}}});if(t.type===u.columnStartResizing){var n=t.clientX,r=t.columnId,s=t.columnWidth,o=t.headerIdWidths;return c({},e,{columnResizing:c({},e.columnResizing,{startX:n,headerIdWidths:o,columnWidth:s,isResizingColumn:r})})}if(t.type===u.columnResizing){var i=t.clientX,f=e.columnResizing,g=f.startX,m=f.columnWidth,S=f.headerIdWidths,y=(i-g)/m,x={};return(S===void 0?[]:S).forEach(function(h){var w=h[0],B=h[1];x[w]=Math.max(B+B*y,0)}),c({},e,{columnResizing:c({},e.columnResizing,{columnWidths:c({},e.columnResizing.columnWidths,{},x)})})}return t.type===u.columnDoneResizing?c({},e,{columnResizing:c({},e.columnResizing,{startX:null,isResizingColumn:null})}):void 0}mn.pluginName="useResizeColumns";var eo=function(e){var t=e.flatHeaders,n=e.disableResizing,r=e.getHooks,s=e.state.columnResizing,o=N(e);t.forEach(function(i){var f=ne(i.disableResizing!==!0&&void 0,n!==!0&&void 0,!0);i.canResize=f,i.width=s.columnWidths[i.id]||i.originalWidth||i.width,i.isResizing=s.isResizingColumn===i.id,f&&(i.getResizerProps=A(r().getResizerProps,{instance:o(),header:i}))})};function to(e){var t=e.plugins,n=e.dispatch,r=e.autoResetResize,s=r===void 0||r,o=e.columns;Q(t,["useAbsoluteLayout"],"useResizeColumns");var i=N(s);Z(function(){i()&&n({type:u.resetResize})},[o]);var f=p.useCallback(function(){return n({type:u.resetResize})},[n]);Object.assign(e,{resetResizing:f})}var Rt={position:"absolute",top:0},vn=function(e){e.getTableBodyProps.push(at),e.getRowProps.push(at),e.getHeaderGroupProps.push(at),e.getFooterGroupProps.push(at),e.getHeaderProps.push(function(t,n){var r=n.column;return[t,{style:c({},Rt,{left:r.totalLeft+"px",width:r.totalWidth+"px"})}]}),e.getCellProps.push(function(t,n){var r=n.cell;return[t,{style:c({},Rt,{left:r.column.totalLeft+"px",width:r.column.totalWidth+"px"})}]}),e.getFooterProps.push(function(t,n){var r=n.column;return[t,{style:c({},Rt,{left:r.totalLeft+"px",width:r.totalWidth+"px"})}]})};vn.pluginName="useAbsoluteLayout";var at=function(e,t){return[e,{style:{position:"relative",width:t.instance.totalColumnsWidth+"px"}}]},St={display:"inline-block",boxSizing:"border-box"},Ct=function(e,t){return[e,{style:{display:"flex",width:t.instance.totalColumnsWidth+"px"}}]},hn=function(e){e.getRowProps.push(Ct),e.getHeaderGroupProps.push(Ct),e.getFooterGroupProps.push(Ct),e.getHeaderProps.push(function(t,n){var r=n.column;return[t,{style:c({},St,{width:r.totalWidth+"px"})}]}),e.getCellProps.push(function(t,n){var r=n.cell;return[t,{style:c({},St,{width:r.column.totalWidth+"px"})}]}),e.getFooterProps.push(function(t,n){var r=n.column;return[t,{style:c({},St,{width:r.totalWidth+"px"})}]})};function bn(e){e.getTableProps.push(no),e.getRowProps.push(Pt),e.getHeaderGroupProps.push(Pt),e.getFooterGroupProps.push(Pt),e.getHeaderProps.push(ro),e.getCellProps.push(oo),e.getFooterProps.push(so)}hn.pluginName="useBlockLayout",bn.pluginName="useFlexLayout";var no=function(e,t){return[e,{style:{minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Pt=function(e,t){return[e,{style:{display:"flex",flex:"1 0 auto",minWidth:t.instance.totalColumnsMinWidth+"px"}}]},ro=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]},oo=function(e,t){var n=t.cell;return[e,{style:{boxSizing:"border-box",flex:n.column.totalFlexWidth+" 0 auto",minWidth:n.column.totalMinWidth+"px",width:n.column.totalWidth+"px"}}]},so=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]};function yn(e){e.stateReducers.push(uo),e.getTableProps.push(io),e.getHeaderProps.push(ao),e.getRowProps.push(lo)}u.columnStartResizing="columnStartResizing",u.columnResizing="columnResizing",u.columnDoneResizing="columnDoneResizing",u.resetResize="resetResize",yn.pluginName="useGridLayout";var io=function(e,t){var n=t.instance;return[e,{style:{display:"grid",gridTemplateColumns:n.visibleColumns.map(function(r){var s;return n.state.gridLayout.columnWidths[r.id]?n.state.gridLayout.columnWidths[r.id]+"px":(s=n.state.columnResizing)!=null&&s.isResizingColumn?n.state.gridLayout.startWidths[r.id]+"px":typeof r.width=="number"?r.width+"px":r.width}).join(" ")}}]},ao=function(e,t){var n=t.column;return[e,{id:"header-cell-"+n.id,style:{position:"sticky",gridColumn:"span "+n.totalVisibleHeaderCount}}]},lo=function(e,t){var n=t.row;return n.isExpanded?[e,{style:{gridColumn:"1 / "+(n.cells.length+1)}}]:[e,{}]};function uo(e,t,n,r){if(t.type===u.init)return c({gridLayout:{columnWidths:{}}},e);if(t.type===u.resetResize)return c({},e,{gridLayout:{columnWidths:{}}});if(t.type===u.columnStartResizing){var s=t.columnId,o=t.headerIdWidths,i=Bt(s);if(i!==void 0){var f=r.visibleColumns.reduce(function(C,W){var I;return c({},C,((I={})[W.id]=Bt(W.id),I))},{}),g=r.visibleColumns.reduce(function(C,W){var I;return c({},C,((I={})[W.id]=W.minWidth,I))},{}),m=r.visibleColumns.reduce(function(C,W){var I;return c({},C,((I={})[W.id]=W.maxWidth,I))},{}),S=o.map(function(C){var W=C[0];return[W,Bt(W)]});return c({},e,{gridLayout:c({},e.gridLayout,{startWidths:f,minWidths:g,maxWidths:m,headerIdGridWidths:S,columnWidth:i})})}return e}if(t.type===u.columnResizing){var y=t.clientX,x=e.columnResizing.startX,h=e.gridLayout,w=h.columnWidth,B=h.minWidths,j=h.maxWidths,T=h.headerIdGridWidths,O=(y-x)/w,E={};return(T===void 0?[]:T).forEach(function(C){var W=C[0],I=C[1];E[W]=Math.min(Math.max(B[W],I+I*O),j[W])}),c({},e,{gridLayout:c({},e.gridLayout,{columnWidths:c({},e.gridLayout.columnWidths,{},E)})})}return t.type===u.columnDoneResizing?c({},e,{gridLayout:c({},e.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function Bt(e){var t,n=(t=document.getElementById("header-cell-"+e))==null?void 0:t.offsetWidth;if(n!==void 0)return n}a._UNSTABLE_usePivotColumns=ln,a.actions=u,a.defaultColumn=ie,a.defaultGroupByFn=tn,a.defaultOrderByFn=sn,a.defaultRenderer=X,a.emptyRenderer=ue,a.ensurePluginOrder=Q,a.flexRender=Te,a.functionalUpdate=ce,a.loopHooks=ge,a.makePropGetter=A,a.makeRenderer=te,a.reduceHooks=ae,a.safeUseLayoutEffect=Ee,a.useAbsoluteLayout=vn,a.useAsyncDebounce=function(e,t){t===void 0&&(t=0);var n=p.useRef({}),r=N(e),s=N(t);return p.useCallback(function(){var o=k(regeneratorRuntime.mark(function i(){var f,g,m,S=arguments;return regeneratorRuntime.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:for(f=S.length,g=new Array(f),m=0;m<f;m++)g[m]=S[m];return n.current.promise||(n.current.promise=new Promise(function(x,h){n.current.resolve=x,n.current.reject=h})),n.current.timeout&&clearTimeout(n.current.timeout),n.current.timeout=setTimeout(k(regeneratorRuntime.mark(function x(){return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return delete n.current.timeout,h.prev=1,h.t0=n.current,h.next=5,r().apply(void 0,g);case 5:h.t1=h.sent,h.t0.resolve.call(h.t0,h.t1),h.next=12;break;case 9:h.prev=9,h.t2=h.catch(1),n.current.reject(h.t2);case 12:return h.prev=12,delete n.current.promise,h.finish(12);case 15:case"end":return h.stop()}},x,null,[[1,9,12,15]])})),s()),y.abrupt("return",n.current.promise);case 5:case"end":return y.stop()}},i)}));return function(){return o.apply(this,arguments)}}(),[r,s])},a.useBlockLayout=hn,a.useColumnOrder=gn,a.useExpanded=Wt,a.useFilters=Jt,a.useFlexLayout=bn,a.useGetLatest=N,a.useGlobalFilter=Yt,a.useGridLayout=yn,a.useGroupBy=en,a.useMountedLayoutEffect=Z,a.usePagination=an,a.useResizeColumns=mn,a.useRowSelect=cn,a.useRowState=fn,a.useSortBy=on,a.useTable=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=Ht(e),n=[it].concat(n);var s=p.useRef({}),o=N(s.current);Object.assign(o(),c({},e,{plugins:n,hooks:st()})),n.filter(Boolean).forEach(function(M){M(o().hooks)});var i=N(o().hooks);o().getHooks=i,delete o().hooks,Object.assign(o(),ae(i().useOptions,Ht(e)));var f=o(),g=f.data,m=f.columns,S=f.initialState,y=f.defaultColumn,x=f.getSubRows,h=f.getRowId,w=f.stateReducer,B=f.useControlledState,j=N(w),T=p.useCallback(function(M,pe){if(!pe.type)throw console.info({action:pe}),new Error("Unknown Action 👆");return[].concat(i().stateReducers,Array.isArray(j())?j():[j()]).reduce(function(ve,Ie){return Ie(ve,pe,M,o())||ve},M)},[i,j,o]),O=p.useReducer(T,void 0,function(){return T(S,{type:u.init})}),E=O[0],C=O[1],W=ae([].concat(i().useControlledState,[B]),E,{instance:o()});Object.assign(o(),{state:W,dispatch:C});var I=p.useMemo(function(){return re(ae(i().columns,m,{instance:o()}))},[i,o,m].concat(ae(i().columnsDeps,[],{instance:o()})));o().columns=I;var H=p.useMemo(function(){return ae(i().allColumns,ye(I),{instance:o()}).map(xe)},[I,i,o].concat(ae(i().allColumnsDeps,[],{instance:o()})));o().allColumns=H;var $=p.useMemo(function(){for(var M=[],pe=[],ve={},Ie=[].concat(H);Ie.length;){var Re=Ie.shift();sr({data:g,rows:M,flatRows:pe,rowsById:ve,column:Re,getRowId:h,getSubRows:x,accessValueHooks:i().accessValue,getInstance:o})}return[M,pe,ve]},[H,g,h,x,i,o]),G=$[0],D=$[1],ee=$[2];Object.assign(o(),{rows:G,initialRows:[].concat(G),flatRows:D,rowsById:ee}),ge(i().useInstanceAfterData,o());var z=p.useMemo(function(){return ae(i().visibleColumns,H,{instance:o()}).map(function(M){return de(M,y)})},[i,H,o,y].concat(ae(i().visibleColumnsDeps,[],{instance:o()})));H=p.useMemo(function(){var M=[].concat(z);return H.forEach(function(pe){M.find(function(ve){return ve.id===pe.id})||M.push(pe)}),M},[H,z]),o().allColumns=H;var Y=p.useMemo(function(){return ae(i().headerGroups,b(z,y),o())},[i,z,y,o].concat(ae(i().headerGroupsDeps,[],{instance:o()})));o().headerGroups=Y;var V=p.useMemo(function(){return Y.length?Y[0].headers:[]},[Y]);o().headers=V,o().flatHeaders=Y.reduce(function(M,pe){return[].concat(M,pe.headers)},[]),ge(i().useInstanceBeforeDimensions,o());var se=z.filter(function(M){return M.isVisible}).map(function(M){return M.id}).sort().join("_");z=p.useMemo(function(){return z.filter(function(M){return M.isVisible})},[z,se]),o().visibleColumns=z;var F=zt(V),K=F[0],me=F[1],je=F[2];return o().totalColumnsMinWidth=K,o().totalColumnsWidth=me,o().totalColumnsMaxWidth=je,ge(i().useInstance,o()),[].concat(o().flatHeaders,o().allColumns).forEach(function(M){M.render=te(o(),M),M.getHeaderProps=A(i().getHeaderProps,{instance:o(),column:M}),M.getFooterProps=A(i().getFooterProps,{instance:o(),column:M})}),o().headerGroups=p.useMemo(function(){return Y.filter(function(M,pe){return M.headers=M.headers.filter(function(ve){return ve.headers?function Ie(Re){return Re.filter(function(He){return He.headers?Ie(He.headers):He.isVisible}).length}(ve.headers):ve.isVisible}),!!M.headers.length&&(M.getHeaderGroupProps=A(i().getHeaderGroupProps,{instance:o(),headerGroup:M,index:pe}),M.getFooterGroupProps=A(i().getFooterGroupProps,{instance:o(),headerGroup:M,index:pe}),!0)})},[Y,o,i]),o().footerGroups=[].concat(o().headerGroups).reverse(),o().prepareRow=p.useCallback(function(M){M.getRowProps=A(i().getRowProps,{instance:o(),row:M}),M.allCells=H.map(function(pe){var ve=M.values[pe.id],Ie={column:pe,row:M,value:ve};return Ie.getCellProps=A(i().getCellProps,{instance:o(),cell:Ie}),Ie.render=te(o(),pe,{row:M,cell:Ie,value:ve}),Ie}),M.cells=z.map(function(pe){return M.allCells.find(function(ve){return ve.column.id===pe.id})}),ge(i().prepareRow,M,{instance:o()})},[i,o,H,z]),o().getTableProps=A(i().getTableProps,{instance:o()}),o().getTableBodyProps=A(i().getTableBodyProps,{instance:o()}),ge(i().useFinalInstance,o()),o()},Object.defineProperty(a,"__esModule",{value:!0})})})(qs,bt);(function(d){d.exports=bt})(Ns);const $s=()=>l.jsx(q,{sx:{width:"100%"},children:l.jsx(Io,{})}),Tn=mt.forwardRef(({indeterminate:d,...v},a)=>{const p=mt.useRef(),P=a||p;return mt.useEffect(()=>{P.current.indeterminate=d},[P,d]),l.jsx(l.Fragment,{children:l.jsx(Eo,{ref:P,...v})})}),Xs=({direction:d,active:v=!1,...a})=>{const p=v?d==="asc"?Mo:Do:Ho;return l.jsx(p,{...a})},Us=({data:d,columns:v,stickyHeader:a,selectionColumnId:p="selection",onSelect:P,onPageChange:k,onPageSizeChange:c,onSort:R,hasSort:_,hasSelection:u,hasPagination:X,hasFilter:ue,totalCount:ie,shouldVirtualize:be,loading:A,tableRef:ae,...ge})=>{const Q=De.useTable({columns:v,data:d,...ge},ue?De.useFilters:Tt,ue?De.useGlobalFilter:Tt,De.useSortBy,De.useExpanded,X?De.usePagination:Tt,De.useRowSelect,oe=>{oe.allColumns.push(J=>u?[{id:p,Header:({getToggleAllRowsSelectedProps:Be})=>l.jsx("div",{children:l.jsx(Tn,{...Be()})}),Cell:({row:Be})=>l.jsx("div",{children:l.jsx(Tn,{...Be.getToggleRowSelectedProps()})})},...J]:J)}),{getTableProps:ce,getTableBodyProps:N,headerGroups:Ee,rows:Z,page:te,prepareRow:Te,gotoPage:re,setPageSize:ye,state:{pageIndex:xe,pageSize:de,selectedRowIds:b,sortBy:U}}=Q;L.useEffect(()=>{ae&&(ae.current=Q)},[Q,ae]);const ne=L.useCallback((oe,J)=>{A||(re(J),k==null||k(J))},[re,A,k]),we=L.useCallback(oe=>{if(A)return;const J=Number(oe.target.value)??10;ye(J),c==null||c(J),ne(oe,0)},[A,ye,c,ne]),Fe=L.useMemo(()=>X?te:Z,[X,te,Z]);L.useEffect(()=>{P==null||P(b)},[P,b]);const Pe=L.useCallback(()=>{A||R==null||R(U)},[A,R,U]);return l.jsxs(l.Fragment,{children:[A&&l.jsx($s,{}),X&&l.jsx(q,{display:"flex",justifyContent:"flex-end",children:l.jsx(gt,{children:l.jsx(En,{rowsPerPageOptions:[5,10,25,{label:"All",value:Z.length}],colSpan:3,count:ie,rowsPerPage:de,page:xe,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:ne,onRowsPerPageChange:we})})}),l.jsx(xs,{children:l.jsxs(Wo,{stickyHeader:a,...ce(),children:[l.jsx(us,{children:Ee.map((oe,J)=>l.jsx(gt,{...oe.getHeaderGroupProps(),children:oe.headers.map((le,Be)=>l.jsxs(et,{sx:{color:"#738598",textTransform:"uppercase"},...le.id===p?le.getHeaderProps():_&&le.canSort?le.getHeaderProps(le.getSortByToggleProps()):{},children:[le.render("Header"),_&&le.id!==p&&le.canSort?l.jsx(Xs,{sx:{position:"relative",top:"8px"},active:le.isSorted,direction:le.isSortedDesc?"desc":"asc",onClick:Pe}):null]},Be))},J))}),l.jsx(Oo,{...N(),children:!be&&Fe.map((oe,J)=>(Te(oe),l.jsx(gt,{...oe.getRowProps(),children:oe.cells.map((le,Be)=>l.jsx(et,{...le.getCellProps(),children:le.render("Cell")},Be))},J)))})]})}),X&&l.jsx(q,{display:"flex",justifyContent:"flex-end",children:l.jsx(gt,{children:l.jsx(En,{rowsPerPageOptions:[5,10,25,{label:"All",value:ie}],colSpan:3,count:ie,rowsPerPage:de,page:xe,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:ne,onRowsPerPageChange:we})})})]})};var Gt={},Ks=Hn;Object.defineProperty(Gt,"__esModule",{value:!0});var qn=Gt.default=void 0,Vs=Ks(Dn()),Js=l;qn=Gt.default=(0,Vs.default)((0,Js.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1m1-8h-2V7h2z"}),"InfoRounded");const Ys=({id:d,...v})=>{var p,P,k,c,R,_,u;const[a]=Vo(d);return l.jsx(q,{...v,children:l.jsxs(Ge,{container:!0,spacing:1,alignItems:"center",children:[l.jsx(Ge,{item:!0,children:l.jsx(Ze,{children:(p=a==null?void 0:a.value)==null?void 0:p.name})}),l.jsx(Ge,{item:!0,children:l.jsx(_s,{content:l.jsxs(q,{p:2,children:[l.jsxs(q,{children:["Name: ",l.jsx("span",{children:(P=a==null?void 0:a.value)==null?void 0:P.name})]}),l.jsxs(q,{children:["Code: ",l.jsx("span",{children:(k=a==null?void 0:a.value)==null?void 0:k.code})]}),l.jsxs(q,{children:["Purchase Amount:",l.jsxs("span",{children:[" ",tt.numberFormatter((c=a==null?void 0:a.value)==null?void 0:c.purchaseAmount).toCurrency()||0]})]}),l.jsxs(q,{children:["Sale Amount:",l.jsxs("span",{children:[" ",tt.numberFormatter((R=a==null?void 0:a.value)==null?void 0:R.saleAmount).toCurrency()||0]})]}),l.jsxs(q,{children:["Sale Tax Amount:"," ",l.jsxs("span",{children:[(_=a==null?void 0:a.value)==null?void 0:_.saleTaxAmount," (",(((u=a==null?void 0:a.value)==null?void 0:u.saleTaxAmount)*100).toFixed(2),"%)"]})]})]}),children:l.jsx(qn,{})})})]})})},Qs=d=>{const[v,a]=nt(yt(Jo),d);return[v,a]},Zs=({expense:d})=>{const{enqueueSnackbar:v}=xt(),a=zn(),[p,{loading:P}]=Qs({variables:{input:{id:d==null?void 0:d.id}},onCompleted:()=>{v("Expense deleted",{variant:"success"})},onError:c=>{console.log(c),v("Failed to delete expense",{variant:"error"})},optimisticResponse:{__typename:"Mutation",deleteExpense:{id:d==null?void 0:d.id,__typename:"Expense"}}}),k=L.useCallback(async()=>{P||!(d!=null&&d.id)||!await a({title:"Delete Leave?",content:R=>l.jsxs("div",{children:[l.jsx(Ze,{children:"Are you sure to remove this expense?"}),l.jsxs(q,{textAlign:"right",m:2,mr:0,children:[l.jsx(Ke,{onClick:()=>{R.close()},children:"Cancel"}),l.jsx(q,{component:"span",mr:2}),l.jsx(Ke,{variant:"contained",color:"primary",size:"small",onClick:()=>{R.submit(!0)},children:"Delete"})]})]})})||p()},[d==null?void 0:d.id,P,p,a]);return l.jsx(At,{title:"Delete",placement:"left",children:l.jsx(Le,{size:"small",onClick:k,children:l.jsx(cs,{})})})};var Mt={},ei=Hn;Object.defineProperty(Mt,"__esModule",{value:!0});var $n=Mt.default=void 0,ti=ei(Dn()),ni=l;$n=Mt.default=(0,ti.default)((0,ni.jsx)("path",{d:"M5 4v2h14V4zm0 10h4v6h6v-6h4l-7-7z"}),"Publish");const Dt=d=>{const[v,a]=nt(yt(Yo),d);return[v,a]};function Xn(d){const[v,a]=nt(yt(Qo),d);return[v,a]}const ri=d=>{const[v,a]=nt(To(Zo),d);return[v,a]},oi=({expense:d})=>{const{enqueueSnackbar:v}=xt(),a=zn(),[p]=es(d==null?void 0:d.memberId),[P,{loading:k}]=Dt({variables:{input:{id:d==null?void 0:d.id,status:"submitted"}},onCompleted:()=>{v("Expense updated",{variant:"success"})},onError:u=>{console.log(u),v("Failed to update expense",{variant:"error"})}}),[c]=Xn({onCompleted:()=>{v("Notification created",{variant:"success"})},onError:()=>{v("Failed to create notification",{variant:"error"})}}),[R]=ri({onCompleted:()=>{v("Expense Approval Email sent to manager",{variant:"success"})},onError:()=>{v("Failed to expense approval email to manager",{variant:"error"})}}),_=L.useCallback(async()=>{if(!(k||!(d!=null&&d.id)||!await a({title:"Submit Expense",content:X=>l.jsxs("div",{children:[l.jsx(Ze,{children:"Are you sure you want to submit this expense?"}),l.jsxs(q,{textAlign:"right",m:2,mr:0,children:[l.jsx(Ke,{onClick:()=>{X.close()},children:"Cancel"}),l.jsx(q,{component:"span",mr:2}),l.jsx(Ke,{variant:"contained",color:"primary",size:"small",onClick:()=>{X.submit(!0)},children:"Submit"})]})]})}))){if(await P(),!(p!=null&&p.userManagerId))return v("Expense Member doesn't have a manager can't create notification",{variant:"warning"});c({variables:{input:{link:`/expense?id=${d==null?void 0:d.id}`,subject:"Expense status set to submitted",message:"Submitted expense",toUserId:p==null?void 0:p.userManagerId}}}),R({variables:{type:"send-email-expense-approval",options:JSON.stringify({expenseId:d==null?void 0:d.id})}}).catch(console.log)}},[v,d==null?void 0:d.id,k,p==null?void 0:p.userManagerId,c,R,P,a]);return l.jsx(At,{title:"Submit",placement:"left",children:l.jsx(Le,{size:"small",onClick:_,children:l.jsx($n,{})})})},si=({value:d,format:v="dd/MM/yyyy"})=>{const a=L.useMemo(()=>new Date(d),[d]);return l.jsx(Fo,{title:a.toLocaleString(),primary:d?qo(a,v):"",secondary:d?ko(a,{addSuffix:!0}):""})},ii=({expenses:d,loading:v,isLAWDView:a,...p})=>{const P=mt.useMemo(()=>{const c=[{Header:"Title",accessor:"title",Cell:({row:R})=>{var _,u,X;return l.jsx(q,{sx:((_=R.original)==null?void 0:_.reimbursable)&&{borderLeft:"4px solid #222"},children:l.jsx(q,{pl:2,sx:((u=R.original)==null?void 0:u.billable)&&{borderLeft:"4px solid #ec64a6"},children:(X=R.original)==null?void 0:X.title})})}},{Header:"Member",accessor:"memberId",Cell:({value:R})=>l.jsx(jn,{id:R})},{Header:"Expense Type",accessor:"expenseTypeId",Cell:({value:R})=>l.jsx(Ys,{id:R,sx:{minWidth:"180px"}})},{Header:"Quantity",accessor:"quantity",Cell:({row:R})=>{var _,u;return l.jsx(q,{children:(u=(_=R.original)==null?void 0:_.quantity)==null?void 0:u.toLocaleString()})}},{Header:"Unit",accessor:"unit",Cell:({row:R})=>{var _;return l.jsx(q,{sx:{textAlign:"left",width:"100%"},children:tt.numberFormatter((_=R.original)==null?void 0:_.unit).toCurrency()})}},{Header:"Total",accessor:"total",Cell:({value:R})=>l.jsx(q,{sx:{textAlign:"left",width:"100%"},children:tt.numberFormatter(R).toCurrency()})},{Header:"Created By",accessor:"createdBy",Cell:({value:R})=>l.jsx(jn,{id:R})},{Header:"Expense Date",accessor:"expenseDate",Cell:({value:R})=>l.jsx(si,{value:R})},{Header:"Actions",id:"actions",Cell:({row:R,onEdit:_,onApprove:u,onReject:X})=>{var ue,ie;return l.jsx(q,{children:l.jsxs(Ge,{minWidth:"165px",container:!0,spacing:1,alignItems:"center",justifyContent:"center",children:[l.jsx(Ge,{item:!0,xs:!0,children:l.jsx(Zs,{expense:R.original})}),["draft","rejected"].includes((ue=R.original)==null?void 0:ue.status)&&l.jsxs(l.Fragment,{children:[l.jsx(Ge,{item:!0,xs:!0,children:l.jsx(oi,{expense:R.original})}),l.jsx(Ge,{item:!0,xs:!0,children:l.jsx(At,{title:"Edit",children:l.jsx(Le,{size:"small",onClick:()=>{_==null||_(R.original)},children:l.jsx(zo,{})})})})]}),((ie=R.original)==null?void 0:ie.status)==="submitted"&&l.jsx(Ge,{item:!0,xs:!0,children:l.jsx(q,{sx:{alignItems:"center",textAlign:"center"},children:l.jsx(ps,{id:"menu_expense_list",vertical:!0,options:[{content:"Approve",onClick:()=>{u==null||u(R.original)}},{content:"Reject",onClick:()=>{X==null||X(R.original)}}]})})})]})})}}];return a||c.splice(2,0,{Header:"Project",accessor:"projectId",Cell:({value:R})=>l.jsx(_n,{id:R,boxProps:{sx:{minWidth:"180px"}}})}),c},[a]),k=L.useMemo(()=>d.map(R=>({...R,total:R.quantity*R.unit})),[d]);return l.jsx(Us,{stickyHeader:!0,data:k,columns:P,loading:v,...p})},ai=d=>{const v=Mn(Ao,{...d});return[L.useMemo(()=>{var P,k;return((k=(P=v.data)==null?void 0:P.result)==null?void 0:k.items)||[]},[v.data]),v]},Un=d=>l.jsx(ts,{props:d,model:"User"});function li(d){const[v,a]=nt(yt(ns),d);return[v,a]}const ui=({form:d,onCreate:v,onUpdate:a,onRefetch:p})=>{var Z,te,Te,re;const{fields:P}=d,{project:k,title:c,member:R,quantity:_,unit:u,expenseDate:X,billable:ue,reimbursable:ie,expenseType:be}=P,{enqueueSnackbar:A}=xt(),ae=$o("LABEL_CONFIGURATION").value,[ge,{loading:Q}]=li({onCompleted:()=>{A("Expense created",{variant:"success"})},onError:()=>{A("Failed to create expense",{variant:"error"})}}),[ce,{loading:N}]=Dt({onCompleted:()=>{A("Expense updated",{variant:"success"})},onError:()=>{A("Failed to update expense",{variant:"error"})}}),Ee=L.useCallback(async ye=>{var _e,Ne,qe,$e,We,Oe,Xe,ke,rt,ot;console.log({values:ye,form:d});const{title:xe,status:de,unit:b,reimbursable:U,member:ne,expenseDate:we,createdBy:Fe,billable:Pe,quantity:oe,expenseType:J,project:le}=ye,Be=(_e=de==null?void 0:de.toLowerCase)==null?void 0:_e.call(de);if((Ne=d.options)!=null&&Ne.id){if(console.log({status:(We=($e=(qe=d.options)==null?void 0:qe.data)==null?void 0:$e.expense)==null?void 0:We.status,newStatus:de}),["rejected","draft"].includes((ke=(Xe=(Oe=d.options)==null?void 0:Oe.data)==null?void 0:Xe.expense)==null?void 0:ke.status)&&["approved"].includes(Be))return A("Expense status must be submitted first",{variant:"error"}),!0;await A("Updating expense...",{variant:"info"}),ce({variables:{input:{id:(rt=d.options)==null?void 0:rt.id,title:xe,status:de,unit:b,reimbursable:U,memberId:ne,projectId:le,expenseTypeId:J,expenseDate:we,createdBy:Fe,billable:Pe,quantity:oe}},optimisticResponse:{updateExpense:{id:(ot=d.options)==null?void 0:ot.id,title:xe,status:de,unit:b,reimbursable:U,memberId:ne,projectId:le,expenseTypeId:J,expenseDate:we,createdBy:Fe,billable:Pe,quantity:oe,updatedBy:"optimistic",updatedAt:new Date().toISOString(),createdAt:new Date().toISOString(),archived:!1,settings:null,gst:0,attributes:null,attachments:null,__typename:"Expense"}}}).then(it=>a==null?void 0:a(it)).then(()=>p())}else await A("Creating expense...",{variant:"info"}),ge({variables:{input:{title:xe,status:de,unit:b,reimbursable:U,memberId:ne,projectId:le,expenseTypeId:J,expenseDate:we,createdBy:Fe,billable:Pe,quantity:oe}},optimisticResponse:{__typename:"Mutation",createExpense:{id:"optimistic-id",title:xe,status:de,unit:b,reimbursable:U,memberId:ne,projectId:le,expenseTypeId:J,expenseDate:we,createdBy:Fe,billable:Pe,quantity:oe,updatedBy:"optimistic",updatedAt:new Date().toISOString(),createdAt:new Date().toISOString(),archived:!1,settings:null,gst:0,attributes:null,attachments:null,__typename:"Expense"}}}).then(st=>v==null?void 0:v(st)).then(()=>p());d.leaveForm(()=>{},!0)},[d,ce,A,a,p,ge,v]);return d.initialized?(console.log({form:d}),l.jsx(Wn,{form:d,loading:Q||N,onSubmit:Ee,onClose:(ye=!1)=>{d.leaveForm(()=>{},ye)},prefixSubmitButton:l.jsx(On,{style:{marginRight:"10px"}}),children:l.jsx(q,{children:l.jsxs(q,{children:[k!=null&&k.value?l.jsxs(q,{sx:{marginBottom:1},children:[l.jsx(Ze,{sx:{fontSize:"10px"},children:ae==null?void 0:ae.Project}),l.jsx(_n,{id:k==null?void 0:k.value})]}):l.jsx(Ln,{...Ue(k,[])}),l.jsx(q,{sx:{"& > div > div":{width:"420px"}},children:l.jsx(rs,{sx:{marginTop:2},...os(X),label:"Expense Date"})}),l.jsx(vt,{...ht(c),label:"Description"}),l.jsx(Un,{...Ue(R,[])}),l.jsx(Nn,{...Ue(be,[])}),l.jsxs(q,{sx:{display:"flex",alignItems:"flex-start"},children:[l.jsx(vt,{...ht(_),sx:{width:120,marginRight:1}}),l.jsx(vt,{...ht(u),sx:{width:120}}),l.jsxs(q,{pl:1,sx:{textAlign:"right"},children:[l.jsx(Ze,{sx:{fontSize:"12px"},children:"Total:"}),l.jsx(q,{children:tt.numberFormatter(((te=(Z=d.fields)==null?void 0:Z.unit)==null?void 0:te.value)*((re=(Te=d.fields)==null?void 0:Te.quantity)==null?void 0:re.value)).toCurrency()||0})]})]}),l.jsx(ss,{marginBottom:"2px",padding:"0px",components:[ue,ie].map((ye,xe)=>l.jsx(q,{children:l.jsx(is,{...as(ye)})},xe))})]})})})):l.jsx("div",{})},ci=({form:d,header:v,initialValues:a,onCreate:p,onUpdate:P,onRefetch:k})=>l.jsxs(l.Fragment,{children:[l.jsxs(q,{display:"flex",justifyContent:"space-between",children:[v,l.jsxs(q,{display:"flex",alignItems:"center",children:[l.jsx(Ke,{variant:"contained",onClick:()=>{k==null||k()},children:"Refetch Data"}),l.jsx(q,{mr:1}),l.jsx(Ke,{color:"primary",variant:"contained",startIcon:l.jsx(On,{}),onClick:()=>{var c,R;console.log({initialValues:a}),d.initializeForm({project:{value:(c=a==null?void 0:a.project)==null?void 0:c.id,disabled:!!(a!=null&&a.project),readonly:!!(a!=null&&a.project),data:{text:(R=a==null?void 0:a.project)==null?void 0:R.name}},expenseDate:{value:a==null?void 0:a.expenseDate,disabled:!!(a!=null&&a.expenseDate),readonly:!!(a!=null&&a.expenseDate),data:{text:a==null?void 0:a.expenseDate}},status:{value:"draft",readonly:!0,data:{text:"draft"}}},!0,{title:"CREATE EXPENSE",submitButtonText:"Create Expense",action:"CREATE"})},children:"Create New Expense"})]})]}),l.jsx(ui,{form:d,onCreate:p,onUpdate:P,refetch:k})]}),di={project:Se("",{validations:{isRequired:!1},label:"Project",data:{placeholder:"Select project",type:Ce.Dropdown}}),title:Se("",{validations:{isRequired:!1},label:"Title",data:{type:Ce.TextField}}),member:Se("",{validations:{isRequired:!1},label:"Member",data:{placeholder:"Select Member",type:Ce.Dropdown}}),expenseType:Se("",{validations:{isRequired:!1},label:"Expense Type",data:{placeholder:"Select Expense Type",type:Ce.Dropdown}}),status:Se("",{label:"Status",data:{placeholder:"Select Status",type:Ce.Dropdown}}),quantity:Se(null,{validations:{isNumber:!0},label:"Quantity",data:{type:Ce.TextField}}),unit:Se(null,{validations:{isNumber:!0},label:"Unit",data:{type:Ce.TextField}}),expenseDate:Se(null,{validations:{isRequired:!1},label:"Due Date",data:{placeholder:"Select project",type:Ce.Datepicker}}),billable:Se(!1,{label:"Billable",data:{type:Ce.Checkbox}}),reimbursable:Se(!1,{label:"Reimbursabble",data:{type:Ce.Checkbox}})},pi=({form:d})=>{var u,X;const{fields:v,options:a}=d,{remarks:p}=v,{enqueueSnackbar:P}=xt(),[k,{loading:c}]=Dt({onCompleted:()=>{P("Expense updated",{variant:"success"})},onError:()=>{P("Failed to update expense",{variant:"error"})}}),[R]=Xn({onCompleted:()=>{P("Notification created",{variant:"success"})},onError:()=>{P("Failed to create notification",{variant:"error"})}}),_=L.useCallback(async ue=>{var be,A;const{status:ie}=ue;await k({variables:{input:{id:a==null?void 0:a.id,status:ie}}}),R({variables:{input:{link:`/expense?id=${a==null?void 0:a.id}`,subject:`Expense status set to ${ie}`,message:ue==null?void 0:ue.remarks,toUserId:(A=(be=a==null?void 0:a.data)==null?void 0:be.expense)==null?void 0:A.memberId}}})},[k,a==null?void 0:a.id,(X=(u=a==null?void 0:a.data)==null?void 0:u.expense)==null?void 0:X.memberId,R]);return d.initialized?l.jsx(Wn,{form:d,loading:c,onClose:(ue=!1)=>{d.leaveForm(()=>{},ue)},onSubmit:_,children:l.jsx(q,{children:l.jsx(q,{children:l.jsx(vt,{...ht(p)})})})}):l.jsx("div",{})},fi={status:Se("",{label:"Status",data:{placeholder:"Status",type:Ce.Dropdown}}),remarks:Se("",{label:"Remarks",data:{placeholder:"Type Remarks",type:Ce.TextField}})},gi=(d,v=500)=>{const[a,p]=L.useState(""),[P,k]=L.useState(d),c=Ws(()=>{k(a)},v,[a]);return[P,p,a,c]},mi={project:Se("",{validations:{isRequired:!1},label:"Project",data:{placeholder:"Select project",type:Ce.Dropdown}}),member:Se("",{validations:{isRequired:!1},label:"Member",data:{placeholder:"Select Member",type:Ce.Dropdown}}),expenseType:Se("",{validations:{isRequired:!1},label:"Expense Type",data:{placeholder:"Select Expense Type",type:Ce.Dropdown}}),status:Se("",{label:"Status",data:{placeholder:"Select Status",type:Ce.Dropdown}})},Di=({id:d,status:v,project:a,isLAWDView:p})=>{var Z,te,Te,re,ye,xe,de;const P=Ft({form:mi});ds({paths:[{label:"",link:"/"},{label:"Expenses",link:"/expense"}]});const k=Ft({form:di}),c=Ft({form:fi}),{fields:R}=P,[_,u]=gi(""),X=L.useMemo(()=>{if(d)return{id:{eq:d}}},[d]),ue=L.useMemo(()=>{if(_)return{or:{title:{matchPhrasePrefix:`*${_}*`}}}},[_]),ie=L.useMemo(()=>{var b,U,ne,we;if((b=R.status)!=null&&b.value)return{status:{eq:(we=(ne=(U=R.status)==null?void 0:U.value)==null?void 0:ne.toLowerCase)==null?void 0:we.call(ne)}}},[(Z=R.status)==null?void 0:Z.value]);L.useEffect(()=>{P.initializeForm({status:{value:v},project:{value:a==null?void 0:a.id}})},[a==null?void 0:a.id,v]);const be=L.useMemo(()=>{var b,U;if((b=R.project)!=null&&b.value)return{projectId:{eq:(U=R.project)==null?void 0:U.value}}},[(te=R.project)==null?void 0:te.value]),A=L.useMemo(()=>{var b,U;if((b=R.member)!=null&&b.value)return{memberId:{eq:(U=R.member)==null?void 0:U.value}}},[(Te=R.member)==null?void 0:Te.value]),ae=L.useMemo(()=>{var b,U;if((b=R.expenseType)!=null&&b.value)return{expenseTypeId:{eq:(U=R.expenseType)==null?void 0:U.value}}},[(re=R.expenseType)==null?void 0:re.value]),ge=L.useMemo(()=>{const b=[X,ue,ie,be,A,ae].filter(Boolean);if(b.length)return b},[ae,X,A,be,ue,ie]),Q=L.useMemo(()=>{if(ge)return{and:ge}},[ge]),[ce,{loading:N}]=ai({variables:{filter:Q},fetchPolicy:"network-only",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),Ee=[...ce].sort((b,U)=>new Date(U.createdAt)-new Date(b.createdAt));return l.jsxs(l.Fragment,{children:[!p&&l.jsx(fs,{mt:2.5,mb:3,children:"Expenses"}),l.jsx(ci,{form:k,initialValues:{project:a,expenseDate:new Date().toISOString()},header:l.jsx(q,{width:"350px",mb:1,mt:1,children:l.jsx(ft,{mr:1,children:l.jsx(Go,{placeholder:"Search...",onChange:b=>{u(b.target.value)}})})})}),l.jsxs(q,{children:[l.jsxs(Ge,{container:!0,spacing:1,mb:3,children:[!p&&l.jsx(l.Fragment,{children:l.jsx(Ge,{item:!0,xs:!0,children:l.jsx(ft,{mr:1,sx:{"& div > svg":{marginTop:"5px"}},children:l.jsx(Ln,{icon:ls,...Ue((ye=P==null?void 0:P.fields)==null?void 0:ye.project,[])})})})}),l.jsx(Ge,{item:!0,xs:!0,children:l.jsx(ft,{mr:1,sx:{"& div > svg":{marginTop:"5px"}},children:l.jsx(Un,{icon:gs,...Ue((xe=P==null?void 0:P.fields)==null?void 0:xe.member,[])})})}),l.jsx(Ge,{item:!0,xs:!0,children:l.jsx(ft,{mr:1,sx:{"& div > svg":{marginTop:"5px"}},children:l.jsx(Nn,{...Ue((de=P==null?void 0:P.fields)==null?void 0:de.expenseType,[])})})})]}),l.jsx(ii,{isLAWDView:p,expenses:Ee,loading:N,onEdit:b=>k.initializeForm({project:{value:b==null?void 0:b.projectId},member:{value:b==null?void 0:b.memberId},expenseType:{value:b==null?void 0:b.expenseTypeId},status:{value:b==null?void 0:b.status,readonly:!0,data:{text:b==null?void 0:b.status}},title:{value:b==null?void 0:b.title},quantity:{value:b==null?void 0:b.quantity},unit:{value:b==null?void 0:b.unit},gst:{value:b==null?void 0:b.gst},expenseDate:{value:b==null?void 0:b.expenseDate},billable:{value:b==null?void 0:b.billable},reimbursable:{value:b==null?void 0:b.reimbursable}},!0,{title:"EDIT EXPENSE",submitButtonText:"Update Expense",action:"UPDATE",id:b==null?void 0:b.id,data:{expense:b}}),onApprove:b=>c.initializeForm({status:{value:"approved"}},!0,{title:"APPROVE EXPENSE",submitButtonText:"Approve Expense",id:b==null?void 0:b.id,data:{expense:b}}),onReject:b=>c.initializeForm({status:{value:"rejected"}},!0,{title:"REJECT EXPENSE",submitButtonText:"Reject Expense",id:b==null?void 0:b.id,data:{expense:b}})})]}),l.jsx(pi,{form:c})]})};export{Di as E,si as L,Us as V,Ws as a,$n as d,De as r,Ls as u};
