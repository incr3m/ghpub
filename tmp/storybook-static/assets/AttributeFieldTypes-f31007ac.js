import{j as o}from"./TransitionGroupContext-9d36972e.js";import{R as m}from"./index-f1f749bf.js";import{e as p,S as d}from"./Play-87fed129.js";import{f as b,w as x}from"./index-bcfaa842.js";import{S as O,N as E}from"./SelectEsModelInput-d580a9f7.js";import{af as v,aW as C,Y as M,L as P,V as h,p as D,c8 as N,bp as A,B as f}from"./papaparse.min-b66e70e7.js";import{M as G,F as g}from"./MultipleSelectFieldInput-d0cee4a2.js";const U={kwProjectSourceList:{module:"Project",name:"Project Source",description:"Project Source"},kwProjectStatus:{module:"Project",name:"Project Status",description:"Project Status"},kwTeamMemberInterestsList:{module:"Member",name:"Team Member Interests",description:"Team Member Interests"},kwTeamMemberSkillsList:{module:"Member",name:"Team Member Skills",description:"Team Member Skills"},kwTaskTypeList:{module:"Task",name:"Task Type List",description:"Task Types List"},kwTaskStatusList:{module:"Task",name:"Task Status List",description:"Task Status List"},kwTaskPriorityList:{module:"Task",name:"Task Priority List",description:"Task Priority List"},kwLeaveTypeList:{module:"Member",name:"Leave Type",description:"Leave Type"},kwLeaveStatusList:{module:"Member",name:"Leave Status",description:"Leave Status"},kwMemberGroupList:{module:"Member",name:"Member Groups",description:"Member Groups"},kwMemberTeamType:{module:"Member",name:"Member Teams",description:"Member Teams"},kwMilestoneTypeList:{module:"Project",name:"Milestone Type",description:"Milestone Type"},kwOrderDeliveryTypeList:{module:"Inventory",name:"Order Delivery Type",description:"Order Delivery Type"},kwInventoryUnitMeasureList:{module:"Inventory",name:"Inventory Unit of Measure",description:"Inventory Unit of Measure"},kwCompanyStatus:{module:"CRM",name:"CRM Company Status",description:"CRM Company Status"},kwCompanyType:{module:"CRM",name:"CRM Company Type",description:"CRM Company Type"},kwActivityType:{module:"CRM",name:"CRM Activity Type",description:"Activity Types"},kwOrganisationType:{module:"CRM",name:"CRM Organisation Type",description:"Organisation Types"},kwContactInterest:{module:"CRM",name:"CRM Contact Interest",description:"CRM Contact Interest"},kwOpportunityType:{module:"CRM",name:"CRM Opportunity Types",description:"CRM Opportunity Types"},kwEntityRelationTypes:{module:"Common",name:"Entity Relationship Types",description:"Entity Relationship Types"},kwNoteTypes:{module:"Common",name:"Note Types",description:"Note Types"},kwCompanyOfficeList:{module:"CRM",name:"Company Offices",description:"Company Offices"},kwCompanyTierList:{module:"CRM",name:"Company Tiers",description:"Company Tiers"},kwCompanySectorList:{module:"CRM",name:"Company Sectors",description:"Company Sectors"},kwContactType:{module:"CRM",name:"CRM Contact Types",description:"Contact Types"},kwGroupType:{module:"CRM",name:"CRM Group Types",description:"Group Types"},kwContactStatus:{module:"CRM",name:"CRM Contact Status",description:"Contact Status"},kwLocationType:{module:"Project",name:"Location Type",description:"Location Type"},kwResourceGroup:{module:"Project",name:"Resource Group",description:"Resource Group"},kwLostReason:{module:"Opportunity",name:"Sales Opportunity Lost Reasons",description:"Lost Reasons"},kwCampaign:{module:"Campaign",name:"Campaign",description:"Campaign"},kwExpenseStatusList:{module:"Expense",name:"Expense Status List",description:"Expense Statuses"},kwRoller:{module:"Project",name:"Roller",description:"Roller"},kwTeamMemberDepartment:{module:"Team Member",name:"Team Department",description:"Department"},kwTeamMemberPublicHolidays:{module:"Team Member",name:"Public Holidays",description:"Public Holidays"},kwTeamMemberStatusList:{module:"Team Member",name:"Team Member Status List",description:"Team Member Status List"},kwTeamMemberEmployeeType:{module:"Team Member",name:"Team Member Employee Type",description:"Team Member Employee Type"},kwSaleStatus:{module:"Sales",name:"Sales Status",description:"Sales Status"}};function B(e){return o.jsx(p,{...e,type:"date",format:t=>t&&b(new Date(t),"MMM dd, yyyy")})}function W({metadata:e,...t}){return e!=null&&e.entity?o.jsx(O,{autoFit:!0,...t,model:e.entity}):null}function _(e){return o.jsx(p,{...e,InputProps:{inputComponent:E},format:t=>t&&x.numberFormatter(t).toFormatted()})}function L({attrKey:e}){return o.jsxs(o.Fragment,{children:[o.jsx(p,{fullWidth:!0,name:"label"}),o.jsx(p,{fullWidth:!0,name:"key",label:"Internal Name",disabled:!!e}),o.jsx(p,{fullWidth:!0,name:"desc",label:"Description"})]})}function K({attrKey:e}){const t=m.useMemo(()=>Object.keys(v().MODELS).map(a=>({label:a,value:a})),[]);return o.jsxs(o.Fragment,{children:[o.jsx(L,{attrKey:e}),o.jsx(C,{}),o.jsx(d,{name:"entity",label:"Entity",options:t})]})}function H({metadata:e,...t}){const[a]=M(["kwMilestoneTypeList","kwTeamMemberInterestsList","kwLocationType","kwTaskStatusList","kwEntityRelationTypes","kwMemberGroupList","kwTaskPriorityList","kwCompanyOfficeList","kwOrderDeliveryTypeList","kwCompanyTierList","kwCompanySectorList","kwRoleType","kwOpportunityType","kwProjectStatus","kwCompanyStatus","kwInventoryUnitMeasureList","kwMemberTeamType","kwTeamMemberSkillsList","kwNoteTypes","kwContactStatus","kwContactInterest","kwProjectSourceList","kwCompanyType","kwContactType","kwMemberDepartment"]),r=(n=[])=>o.jsx(P,{text:t==null?void 0:t.label,mb:2,children:n.map(s=>o.jsx(h,{label:s.value},s.value))});return o.jsx(G,{fullWidth:!0,name:t==null?void 0:t.name,label:t==null?void 0:t.label,placeholder:t.label,parseValue:n=>{if(n)return JSON.parse(n).map(s=>({value:s}))},formatValue:n=>JSON.stringify(n.map(s=>s.value)),readOnlyDisplay:r,options:a[e==null?void 0:e.keywords]||[]})}function V({attrKey:e}){const[t]=M(["kwMilestoneTypeList","kwTeamMemberInterestsList","kwLocationType","kwTaskStatusList","kwEntityRelationTypes","kwMemberGroupList","kwTaskPriorityList","kwCompanyOfficeList","kwOrderDeliveryTypeList","kwCompanyTierList","kwCompanySectorList","kwRoleType","kwOpportunityType","kwProjectStatus","kwCompanyStatus","kwInventoryUnitMeasureList","kwMemberTeamType","kwTeamMemberSkillsList","kwNoteTypes","kwContactStatus","kwContactInterest","kwProjectSourceList","kwCompanyType","kwContactType"]),a=m.useMemo(()=>Object.keys(t).map(r=>{var n;return{label:(n=U[r])==null?void 0:n.name,value:r,key:r}}),[]);return o.jsxs(o.Fragment,{children:[o.jsx(L,{attrKey:e}),o.jsx(C,{}),o.jsx(d,{name:"keywords",label:"Keywords",options:a})]})}function J({...e}){const{values:t,setFieldValue:a}=D(),[r,n]=m.useState(1),s=m.useRef([]),u=N(),S=m.useCallback(async(...i)=>{var T;const l=i[0].target.files[0];if(i!=null&&i.onChange&&(i==null||i.onChange(...i)),l){const k=await u({path:"project/attributes",key:A(),file:l}),y=JSON.parse(t==null?void 0:t.attributes),w=e==null?void 0:e.name.split("_")[1];let c=[];(T=y==null?void 0:y[w])!=null&&T.length?c=[...y[w],k]:c=[...c,k],s.current=[...s.current,...c];const R=[...new Set(s.current)];a(e==null?void 0:e.name,R),n(j=>j+1)}},[e.name,a,u,t.attributes]);return o.jsx("div",{children:o.jsx(g,{fullWidth:!0,name:e==null?void 0:e.name,...e,single:!0,label:o.jsx(f,{component:"span",pl:"16px",display:"block",width:"200px",children:e==null?void 0:e.label}),onChange:S})},r)}const F={SINGLE_LINE_TEXT:{},NUMBER:{inputComponent:_},DATE:{inputComponent:B},ENTITY:{attributeForm:K,inputComponent:W},ATTACHMENTS:{inputComponent:J},SELECTION_BOX:{attributeForm:V,inputComponent:H}};export{L as A,F};
