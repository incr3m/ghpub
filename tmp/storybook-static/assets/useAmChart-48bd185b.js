import{j as d}from"./TransitionGroupContext-9d36972e.js";import{R as n}from"./index-f1f749bf.js";import{aS as a,a3 as b,B as R}from"./papaparse.min-b66e70e7.js";function A({chartId:i,plugin:s,boxProps:p={},onReady:o}){const u=n.useRef({onReady:o}),m=a("//cdn.amcharts.com/lib/4/core.js"),r=a("//cdn.amcharts.com/lib/4/charts.js",{skip:m!=="ready"}),c=a("//cdn.amcharts.com/lib/4/themes/animated.js",{skip:r!=="ready"}),e=[m,r,c];console.log(">>AmChart/index::","plugin",s);const[f,l,h]=(s?Array.isArray(s)?s:[s]:[]).map(t=>`//cdn.amcharts.com/lib/4/plugins/${t.replace("am4plugins_","")}.js`),S=a(f,{skip:!f||r!=="ready"});f&&e.push(S);const j=a(l,{skip:!l||r!=="ready"});l&&e.push(j);const x=a(h,{skip:!h||r!=="ready"});h&&e.push(x);const w=e.some(t=>t==="loading"),k=e.some(t=>t==="error"),y=!e.some(t=>t!=="ready");return n.useEffect(()=>{y&&window.am4core.ready(function(){u.current.onReady(window)})},[y]),w?d.jsx(b,{}):k?d.jsx("div",{children:"Something went wrong."}):d.jsx(R,{id:i,...p})}function E({chartId:i,plugin:s,boxProps:p={}}){const[o,u]=n.useState({id:i,ready:!1}),m=n.useCallback(()=>{u(c=>({...c,ready:!0}))},[]),r={chartId:i,plugin:s,boxProps:p,onReady:m};return o.chart=d.jsx(A,{...r}),o.apply=n.useCallback(c=>{c(window)},[]),o}export{E as u};
